{"id":"QZ5i","dependencies":[{"name":"D:\\Projects\\ol\\package.json","includedInParent":true,"mtime":1586548571472},{"name":"D:\\Projects\\ol\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1586157047249},{"name":"../tileurlfunction.js","loc":{"line":17,"column":43},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\BingMaps.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\tileurlfunction.js"},{"name":"../extent.js","loc":{"line":18,"column":43},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\BingMaps.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\extent.js"},{"name":"../net.js","loc":{"line":19,"column":38},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\BingMaps.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\net.js"},{"name":"../proj.js","loc":{"line":20,"column":66},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\BingMaps.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\proj.js"},{"name":"./State.js","loc":{"line":21,"column":24},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\BingMaps.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\source\\State.js"},{"name":"./TileImage.js","loc":{"line":22,"column":22},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\BingMaps.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\source\\TileImage.js"},{"name":"../tilecoord.js","loc":{"line":23,"column":31},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\BingMaps.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\tilecoord.js"},{"name":"../tilegrid.js","loc":{"line":24,"column":48},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\BingMaps.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\tilegrid.js"}],"generated":{"js":"var $QZ5i$exports={};$parcel$require(\"QZ5i\",\"../tileurlfunction.js\"),$parcel$require(\"QZ5i\",\"../extent.js\"),$parcel$require(\"QZ5i\",\"../net.js\"),$parcel$require(\"QZ5i\",\"../proj.js\"),$parcel$require(\"QZ5i\",\"./State.js\"),$parcel$require(\"QZ5i\",\"./TileImage.js\"),$parcel$require(\"QZ5i\",\"../tilecoord.js\"),$parcel$require(\"QZ5i\",\"../tilegrid.js\");var $QZ5i$var$__extends=$QZ5i$exports&&$QZ5i$exports.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();function $QZ5i$export$quadKey(e){var t,r,i=e[0],o=new Array(i),a=1<<i-1;for(t=0;t<i;++t)r=48,e[1]&a&&(r+=1),e[2]&a&&(r+=2),o[t]=String.fromCharCode(r),a>>=1;return o.join(\"\")}$QZ5i$exports.quadKey=$QZ5i$export$quadKey;var $QZ5i$var$TOS_ATTRIBUTION='<a class=\"ol-attribution-bing-tos\" href=\"https://www.microsoft.com/maps/product/terms.html\" target=\"_blank\">Terms of Use</a>',$QZ5i$export$default=function(e){function t(t){var r=this,i=void 0!==t.hidpi&&t.hidpi;(r=e.call(this,{cacheSize:t.cacheSize,crossOrigin:\"anonymous\",opaque:!0,projection:$QZ5i$import$getProjection(\"EPSG:3857\"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:$QZ5i$import$SourceState.LOADING,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:i?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})||this).hidpi_=i,r.culture_=void 0!==t.culture?t.culture:\"en-us\",r.maxZoom_=void 0!==t.maxZoom?t.maxZoom:-1,r.apiKey_=t.key,r.imagerySet_=t.imagerySet;var o=\"https://dev.virtualearth.net/REST/v1/Imagery/Metadata/\"+r.imagerySet_+\"?uriScheme=https&include=ImageryProviders&key=\"+r.apiKey_+\"&c=\"+r.culture_;return $QZ5i$import$requestJSONP(o,r.handleImageryMetadataResponse.bind(r),void 0,\"jsonp\"),r}return $QZ5i$var$__extends(t,e),t.prototype.getApiKey=function(){return this.apiKey_},t.prototype.getImagerySet=function(){return this.imagerySet_},t.prototype.handleImageryMetadataResponse=function(e){if(200==e.statusCode&&\"OK\"==e.statusDescription&&\"ValidCredentials\"==e.authenticationResultCode&&1==e.resourceSets.length&&1==e.resourceSets[0].resources.length){var t=e.resourceSets[0].resources[0],r=-1==this.maxZoom_?t.zoomMax:this.maxZoom_,i=this.getProjection(),o=$QZ5i$import$extentFromProjection(i),a=this.hidpi_?2:1,n=t.imageWidth==t.imageHeight?t.imageWidth/a:[t.imageWidth/a,t.imageHeight/a],s=$QZ5i$import$createXYZ({extent:o,minZoom:t.zoomMin,maxZoom:r,tileSize:n});this.tileGrid=s;var $=this.culture_,u=this.hidpi_;if(this.tileUrlFunction=$QZ5i$import$createFromTileUrlFunctions(t.imageUrlSubdomains.map(function(e){var r=[0,0,0],i=t.imageUrl.replace(\"{subdomain}\",e).replace(\"{culture}\",$);return function(e,t,o){if(e){$QZ5i$import$createOrUpdate(e[0],e[1],e[2],r);var a=i;return u&&(a+=\"&dpi=d1&device=mobile\"),a.replace(\"{quadkey}\",$QZ5i$export$quadKey(r))}}})),t.imageryProviders){var c=$QZ5i$import$getTransformFromProjections($QZ5i$import$getProjection(\"EPSG:4326\"),this.getProjection());this.setAttributions(function(e){var r=[],i=e.viewState,o=this.getTileGrid(),a=o.getZForResolution(i.resolution,this.zDirection),n=o.getTileCoordForCoordAndZ(i.center,a)[0];return t.imageryProviders.map(function(t){for(var i=!1,o=t.coverageAreas,a=0,s=o.length;a<s;++a){var $=o[a];if(n>=$.zoomMin&&n<=$.zoomMax){var u=$.bbox,p=[u[1],u[0],u[3],u[2]],m=$QZ5i$import$applyTransform(p,c);if($QZ5i$import$intersects(m,e.extent)){i=!0;break}}}i&&r.push(t.attribution)}),r.push($QZ5i$var$TOS_ATTRIBUTION),r}.bind(this))}this.setState($QZ5i$import$SourceState.READY)}else this.setState($QZ5i$import$SourceState.ERROR)},t}($QZ5i$import$TileImage);$QZ5i$exports.default=$QZ5i$export$default;"},"sourceMaps":null,"error":null,"hash":"bc2a7471518283131e008cbea784b320","cacheData":{"env":{},"imports":{"$QZ5i$import$createFromTileUrlFunctions":["../tileurlfunction.js","createFromTileUrlFunctions"],"$QZ5i$import$applyTransform":["../extent.js","applyTransform"],"$QZ5i$import$intersects":["../extent.js","intersects"],"$QZ5i$import$requestJSONP":["../net.js","jsonp"],"$QZ5i$import$getProjection":["../proj.js","get"],"$QZ5i$import$getTransformFromProjections":["../proj.js","getTransformFromProjections"],"$QZ5i$import$SourceState":["./State.js","default"],"$QZ5i$import$TileImage":["./TileImage.js","default"],"$QZ5i$import$createOrUpdate":["../tilecoord.js","createOrUpdate"],"$QZ5i$import$createXYZ":["../tilegrid.js","createXYZ"],"$QZ5i$import$extentFromProjection":["../tilegrid.js","extentFromProjection"]},"exports":{"quadKey":"$QZ5i$export$quadKey","default":"$QZ5i$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}