{"id":"iEtH","dependencies":[{"name":"D:\\Projects\\ol\\package.json","includedInParent":true,"mtime":1586548571472},{"name":"D:\\Projects\\ol\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1586157047249},{"name":"elm-pep","loc":{"line":17,"column":7},"parent":"D:\\Projects\\ol\\node_modules\\ol\\MapBrowserEventHandler.js","resolved":"D:\\Projects\\ol\\node_modules\\elm-pep\\dist\\elm-pep.js"},{"name":"./has.js","loc":{"line":18,"column":60},"parent":"D:\\Projects\\ol\\node_modules\\ol\\MapBrowserEventHandler.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\has.js"},{"name":"./MapBrowserEventType.js","loc":{"line":19,"column":32},"parent":"D:\\Projects\\ol\\node_modules\\ol\\MapBrowserEventHandler.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\MapBrowserEventType.js"},{"name":"./MapBrowserPointerEvent.js","loc":{"line":20,"column":35},"parent":"D:\\Projects\\ol\\node_modules\\ol\\MapBrowserEventHandler.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\MapBrowserPointerEvent.js"},{"name":"./events.js","loc":{"line":21,"column":38},"parent":"D:\\Projects\\ol\\node_modules\\ol\\MapBrowserEventHandler.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events.js"},{"name":"./events/Target.js","loc":{"line":22,"column":24},"parent":"D:\\Projects\\ol\\node_modules\\ol\\MapBrowserEventHandler.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events\\Target.js"},{"name":"./pointer/EventType.js","loc":{"line":23,"column":29},"parent":"D:\\Projects\\ol\\node_modules\\ol\\MapBrowserEventHandler.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\pointer\\EventType.js"},{"name":"./events/EventType.js","loc":{"line":24,"column":22},"parent":"D:\\Projects\\ol\\node_modules\\ol\\MapBrowserEventHandler.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events\\EventType.js"}],"generated":{"js":"var $iEtH$exports={};$parcel$require(\"iEtH\",\"elm-pep\"),$parcel$require(\"iEtH\",\"./has.js\"),$parcel$require(\"iEtH\",\"./MapBrowserEventType.js\"),$parcel$require(\"iEtH\",\"./MapBrowserPointerEvent.js\"),$parcel$require(\"iEtH\",\"./events.js\"),$parcel$require(\"iEtH\",\"./events/Target.js\"),$parcel$require(\"iEtH\",\"./pointer/EventType.js\"),$parcel$require(\"iEtH\",\"./events/EventType.js\");var $iEtH$var$__extends=$iEtH$exports&&$iEtH$exports.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),$iEtH$export$default=function(t){function e(e,i){var r=t.call(this,e)||this;r.map_=e,r.clickTimeoutId_,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=i?i*$iEtH$import$DEVICE_PIXEL_RATIO:$iEtH$import$DEVICE_PIXEL_RATIO,r.down_=null;var n=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=n,r.pointerdownListenerKey_=$iEtH$import$listen(n,$iEtH$import$PointerEventType.POINTERDOWN,r.handlePointerDown_,r),r.originalPointerMoveEvent_,r.relayedListenerKey_=$iEtH$import$listen(n,$iEtH$import$PointerEventType.POINTERMOVE,r.relayEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener($iEtH$import$EventType.TOUCHMOVE,r.boundHandleTouchMove_,!!$iEtH$import$PASSIVE_EVENT_LISTENERS&&{passive:!1}),r}return $iEtH$var$__extends(e,t),e.prototype.emulateClick_=function(t){var e=new $iEtH$import$MapBrowserPointerEvent($iEtH$import$MapBrowserEventType.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new $iEtH$import$MapBrowserPointerEvent($iEtH$import$MapBrowserEventType.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new $iEtH$import$MapBrowserPointerEvent($iEtH$import$MapBrowserEventType.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==$iEtH$import$MapBrowserEventType.POINTERUP||e.type==$iEtH$import$MapBrowserEventType.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==$iEtH$import$MapBrowserEventType.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new $iEtH$import$MapBrowserPointerEvent($iEtH$import$MapBrowserEventType.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach($iEtH$import$unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new $iEtH$import$MapBrowserPointerEvent($iEtH$import$MapBrowserEventType.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push($iEtH$import$listen(document,$iEtH$import$MapBrowserEventType.POINTERMOVE,this.handlePointerMove_,this),$iEtH$import$listen(document,$iEtH$import$MapBrowserEventType.POINTERUP,this.handlePointerUp_,this),$iEtH$import$listen(this.element_,$iEtH$import$MapBrowserEventType.POINTERCANCEL,this.handlePointerUp_,this))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new $iEtH$import$MapBrowserPointerEvent($iEtH$import$MapBrowserEventType.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new $iEtH$import$MapBrowserPointerEvent(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){this.originalPointerMoveEvent_&&!this.originalPointerMoveEvent_.defaultPrevented||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&($iEtH$import$unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener($iEtH$import$EventType.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&($iEtH$import$unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach($iEtH$import$unlistenByKey),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}($iEtH$import$EventTarget);$iEtH$exports.default=$iEtH$export$default;"},"sourceMaps":null,"error":null,"hash":"e7fc0c5278a119fc62a9f29eb2c8d915","cacheData":{"env":{},"imports":{"$iEtH$import$DEVICE_PIXEL_RATIO":["./has.js","DEVICE_PIXEL_RATIO"],"$iEtH$import$PASSIVE_EVENT_LISTENERS":["./has.js","PASSIVE_EVENT_LISTENERS"],"$iEtH$import$MapBrowserEventType":["./MapBrowserEventType.js","default"],"$iEtH$import$MapBrowserPointerEvent":["./MapBrowserPointerEvent.js","default"],"$iEtH$import$listen":["./events.js","listen"],"$iEtH$import$unlistenByKey":["./events.js","unlistenByKey"],"$iEtH$import$EventTarget":["./events/Target.js","default"],"$iEtH$import$PointerEventType":["./pointer/EventType.js","default"],"$iEtH$import$EventType":["./events/EventType.js","default"]},"exports":{"default":"$iEtH$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}