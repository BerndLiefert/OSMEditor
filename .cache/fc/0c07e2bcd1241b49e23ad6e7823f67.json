{"id":"ysTV","dependencies":[{"name":"D:\\Projects\\ol\\package.json","includedInParent":true,"mtime":1586548571472},{"name":"D:\\Projects\\ol\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1586157047249},{"name":"../Collection.js","loc":{"line":17,"column":23},"parent":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\Translate.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\Collection.js"},{"name":"../Object.js","loc":{"line":18,"column":35},"parent":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\Translate.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\Object.js"},{"name":"../events/Event.js","loc":{"line":19,"column":18},"parent":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\Translate.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events\\Event.js"},{"name":"../functions.js","loc":{"line":20,"column":21},"parent":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\Translate.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\functions.js"},{"name":"../array.js","loc":{"line":21,"column":25},"parent":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\Translate.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\array.js"},{"name":"./Pointer.js","loc":{"line":22,"column":31},"parent":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\Translate.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\Pointer.js"},{"name":"./Property.js","loc":{"line":23,"column":32},"parent":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\Translate.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\Property.js"}],"generated":{"js":"var $ysTV$exports={};$parcel$require(\"ysTV\",\"../Collection.js\"),$parcel$require(\"ysTV\",\"../Object.js\"),$parcel$require(\"ysTV\",\"../events/Event.js\"),$parcel$require(\"ysTV\",\"../functions.js\"),$parcel$require(\"ysTV\",\"../array.js\"),$parcel$require(\"ysTV\",\"./Pointer.js\"),$parcel$require(\"ysTV\",\"./Property.js\");var $ysTV$var$__extends=$ysTV$exports&&$ysTV$exports.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),$ysTV$var$TranslateEventType={TRANSLATESTART:\"translatestart\",TRANSLATING:\"translating\",TRANSLATEEND:\"translateend\"},$ysTV$export$TranslateEvent=function(t){function e(e,r,a,n,s){var o=t.call(this,e)||this;return o.features=r,o.coordinate=a,o.startCoordinate=n,o.mapBrowserEvent=s,o}return $ysTV$var$__extends(e,t),e}($ysTV$import$Event);$ysTV$exports.TranslateEvent=$ysTV$export$TranslateEvent;var $ysTV$export$default=function(t){function e(e){var r,a=this,n=e||{};if((a=t.call(this,n)||this).lastCoordinate_=null,a.startCoordinate_=null,a.features_=void 0!==n.features?n.features:null,n.layers)if(\"function\"==typeof n.layers)r=n.layers;else{var s=n.layers;r=function(t){return $ysTV$import$includes(s,t)}}else r=$ysTV$import$TRUE;return a.layerFilter_=r,a.filter_=n.filter?n.filter:$ysTV$import$TRUE,a.hitTolerance_=n.hitTolerance?n.hitTolerance:0,a.lastFeature_=null,a.addEventListener($ysTV$import$getChangeEventType($ysTV$import$InteractionProperty.ACTIVE),a.handleActiveChanged_),a}return $ysTV$var$__extends(e,t),e.prototype.handleDownEvent=function(t){if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=t.coordinate,this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);var e=this.features_||new $ysTV$import$Collection([this.lastFeature_]);return this.dispatchEvent(new $ysTV$export$TranslateEvent($ysTV$var$TranslateEventType.TRANSLATESTART,e,t.coordinate,this.startCoordinate_,t)),!0}return!1},e.prototype.handleUpEvent=function(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);var e=this.features_||new $ysTV$import$Collection([this.lastFeature_]);return this.dispatchEvent(new $ysTV$export$TranslateEvent($ysTV$var$TranslateEventType.TRANSLATEEND,e,t.coordinate,this.startCoordinate_,t)),this.startCoordinate_=null,!0}return!1},e.prototype.handleDragEvent=function(t){if(this.lastCoordinate_){var e=t.coordinate,r=e[0]-this.lastCoordinate_[0],a=e[1]-this.lastCoordinate_[1],n=this.features_||new $ysTV$import$Collection([this.lastFeature_]);n.forEach(function(t){var e=t.getGeometry();e.translate(r,a),t.setGeometry(e)}),this.lastCoordinate_=e,this.dispatchEvent(new $ysTV$export$TranslateEvent($ysTV$var$TranslateEventType.TRANSLATING,n,e,this.startCoordinate_,t))}},e.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?\"ol-grab\":\"ol-grabbing\"),e.classList.add(this.lastCoordinate_?\"ol-grabbing\":\"ol-grab\")):e.classList.remove(\"ol-grab\",\"ol-grabbing\")},e.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t,e){if(this.filter_(t,e)&&(!this.features_||$ysTV$import$includes(this.features_.getArray(),t)))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var r=this.getMap();t.prototype.setMap.call(this,e),this.updateState_(r)},e.prototype.handleActiveChanged_=function(){this.updateState_(null)},e.prototype.updateState_=function(t){var e=this.getMap(),r=this.getActive();e&&r||(e=e||t)&&e.getViewport().classList.remove(\"ol-grab\",\"ol-grabbing\")},e}($ysTV$import$PointerInteraction);$ysTV$exports.default=$ysTV$export$default;"},"sourceMaps":null,"error":null,"hash":"2a814993796868847e545418f91787d7","cacheData":{"env":{},"imports":{"$ysTV$import$Collection":["../Collection.js","default"],"$ysTV$import$getChangeEventType":["../Object.js","getChangeEventType"],"$ysTV$import$Event":["../events/Event.js","default"],"$ysTV$import$TRUE":["../functions.js","TRUE"],"$ysTV$import$includes":["../array.js","includes"],"$ysTV$import$PointerInteraction":["./Pointer.js","default"],"$ysTV$import$InteractionProperty":["./Property.js","default"]},"exports":{"TranslateEvent":"$ysTV$export$TranslateEvent","default":"$ysTV$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}