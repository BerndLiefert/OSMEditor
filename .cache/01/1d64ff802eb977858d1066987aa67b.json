{"id":"HHDy","dependencies":[{"name":"D:\\Projects\\ol\\package.json","includedInParent":true,"mtime":1586548571472},{"name":"D:\\Projects\\ol\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1586157047249},{"name":"../Image.js","loc":{"line":17,"column":25},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\ImageMapGuide.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\Image.js"},{"name":"../events/EventType.js","loc":{"line":18,"column":22},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\ImageMapGuide.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events\\EventType.js"},{"name":"../extent.js","loc":{"line":19,"column":80},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\ImageMapGuide.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\extent.js"},{"name":"../obj.js","loc":{"line":20,"column":23},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\ImageMapGuide.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\obj.js"},{"name":"./Image.js","loc":{"line":21,"column":54},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\ImageMapGuide.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\source\\Image.js"},{"name":"../uri.js","loc":{"line":22,"column":29},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\ImageMapGuide.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\uri.js"}],"generated":{"js":"var $HHDy$exports={};$parcel$require(\"HHDy\",\"../Image.js\"),$parcel$require(\"HHDy\",\"../events/EventType.js\"),$parcel$require(\"HHDy\",\"../extent.js\"),$parcel$require(\"HHDy\",\"../obj.js\"),$parcel$require(\"HHDy\",\"./Image.js\"),$parcel$require(\"HHDy\",\"../uri.js\");var $HHDy$var$__extends=$HHDy$exports&&$HHDy$exports.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),$HHDy$export$default=function(t){function e(e){var i=t.call(this,{projection:e.projection,resolutions:e.resolutions})||this;return i.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,i.displayDpi_=void 0!==e.displayDpi?e.displayDpi:96,i.params_=e.params||{},i.url_=e.url,i.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:$HHDy$import$defaultImageLoadFunction,i.hidpi_=void 0===e.hidpi||e.hidpi,i.metersPerUnit_=void 0!==e.metersPerUnit?e.metersPerUnit:1,i.ratio_=void 0!==e.ratio?e.ratio:1,i.useOverlay_=void 0!==e.useOverlay&&e.useOverlay,i.image_=null,i.renderedRevision_=0,i}return $HHDy$var$__extends(e,t),e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,i,r){e=this.findNearestResolution(e),i=this.hidpi_?i:1;var o=this.image_;if(o&&this.renderedRevision_==this.getRevision()&&o.getResolution()==e&&o.getPixelRatio()==i&&$HHDy$import$containsExtent(o.getExtent(),t))return o;1!=this.ratio_&&(t=t.slice(),$HHDy$import$scaleFromCenter(t,this.ratio_));var n=[$HHDy$import$getWidth(t)/e*i,$HHDy$import$getHeight(t)/e*i];if(void 0!==this.url_){var a=this.getUrl(this.url_,this.params_,t,n,r);(o=new $HHDy$import$ImageWrapper(t,e,i,a,this.crossOrigin_,this.imageLoadFunction_)).addEventListener($HHDy$import$EventType.CHANGE,this.handleImageChange.bind(this))}else o=null;return this.image_=o,this.renderedRevision_=this.getRevision(),o},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.updateParams=function(t){$HHDy$import$assign(this.params_,t),this.changed()},e.prototype.getUrl=function(t,e,i,r,o){var n=$HHDy$var$getScale(i,r,this.metersPerUnit_,this.displayDpi_),a=$HHDy$import$getCenter(i),s={OPERATION:this.useOverlay_?\"GETDYNAMICMAPOVERLAYIMAGE\":\"GETMAPIMAGE\",VERSION:\"2.0.0\",LOCALE:\"en\",CLIENTAGENT:\"ol/source/ImageMapGuide source\",CLIP:\"1\",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(r[0]),SETDISPLAYHEIGHT:Math.round(r[1]),SETVIEWSCALE:n,SETVIEWCENTERX:a[0],SETVIEWCENTERY:a[1]};return $HHDy$import$assign(s,e),$HHDy$import$appendParams(t,s)},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e}($HHDy$import$ImageSource);function $HHDy$var$getScale(t,e,i,r){var o=$HHDy$import$getWidth(t),n=$HHDy$import$getHeight(t),a=e[0],s=e[1],$=.0254/r;return s*o>a*n?o*i/(a*$):n*i/(s*$)}$HHDy$exports.default=$HHDy$export$default;"},"sourceMaps":null,"error":null,"hash":"93df645191d1f56f12e0698379d45d85","cacheData":{"env":{},"imports":{"$HHDy$import$ImageWrapper":["../Image.js","default"],"$HHDy$import$EventType":["../events/EventType.js","default"],"$HHDy$import$containsExtent":["../extent.js","containsExtent"],"$HHDy$import$getCenter":["../extent.js","getCenter"],"$HHDy$import$getHeight":["../extent.js","getHeight"],"$HHDy$import$getWidth":["../extent.js","getWidth"],"$HHDy$import$scaleFromCenter":["../extent.js","scaleFromCenter"],"$HHDy$import$assign":["../obj.js","assign"],"$HHDy$import$ImageSource":["./Image.js","default"],"$HHDy$import$defaultImageLoadFunction":["./Image.js","defaultImageLoadFunction"],"$HHDy$import$appendParams":["../uri.js","appendParams"]},"exports":{"default":"$HHDy$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}