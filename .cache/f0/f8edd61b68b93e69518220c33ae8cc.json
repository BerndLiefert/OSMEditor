{"id":"x3F9","dependencies":[{"name":"D:\\Projects\\ol\\package.json","includedInParent":true,"mtime":1586548571472},{"name":"D:\\Projects\\ol\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1586157047249},{"name":"../PluggableMap.js","loc":{"line":17,"column":25},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\PluggableMap.js"},{"name":"../renderer/Composite.js","loc":{"line":18,"column":33},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\Composite.js"},{"name":"../MapEventType.js","loc":{"line":19,"column":25},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\MapEventType.js"},{"name":"../MapProperty.js","loc":{"line":20,"column":24},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\MapProperty.js"},{"name":"../Object.js","loc":{"line":21,"column":35},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\Object.js"},{"name":"../ObjectEventType.js","loc":{"line":22,"column":28},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\ObjectEventType.js"},{"name":"../Overlay.js","loc":{"line":23,"column":20},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\Overlay.js"},{"name":"../OverlayPositioning.js","loc":{"line":24,"column":31},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\OverlayPositioning.js"},{"name":"../ViewProperty.js","loc":{"line":25,"column":25},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\ViewProperty.js"},{"name":"./Control.js","loc":{"line":26,"column":20},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\control\\Control.js"},{"name":"../geom/Polygon.js","loc":{"line":27,"column":48},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\geom\\Polygon.js"},{"name":"../css.js","loc":{"line":28,"column":67},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\css.js"},{"name":"../dom.js","loc":{"line":29,"column":28},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\dom.js"},{"name":"../events.js","loc":{"line":30,"column":35},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events.js"},{"name":"../events/EventType.js","loc":{"line":31,"column":22},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events\\EventType.js"},{"name":"../extent.js","loc":{"line":32,"column":100},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\extent.js"},{"name":"../View.js","loc":{"line":33,"column":17},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\OverviewMap.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\View.js"}],"generated":{"js":"var $x3F9$exports={};$parcel$require(\"x3F9\",\"../PluggableMap.js\"),$parcel$require(\"x3F9\",\"../renderer/Composite.js\"),$parcel$require(\"x3F9\",\"../MapEventType.js\"),$parcel$require(\"x3F9\",\"../MapProperty.js\"),$parcel$require(\"x3F9\",\"../Object.js\"),$parcel$require(\"x3F9\",\"../ObjectEventType.js\"),$parcel$require(\"x3F9\",\"../Overlay.js\"),$parcel$require(\"x3F9\",\"../OverlayPositioning.js\"),$parcel$require(\"x3F9\",\"../ViewProperty.js\"),$parcel$require(\"x3F9\",\"./Control.js\"),$parcel$require(\"x3F9\",\"../geom/Polygon.js\"),$parcel$require(\"x3F9\",\"../css.js\"),$parcel$require(\"x3F9\",\"../dom.js\"),$parcel$require(\"x3F9\",\"../events.js\"),$parcel$require(\"x3F9\",\"../events/EventType.js\"),$parcel$require(\"x3F9\",\"../extent.js\"),$parcel$require(\"x3F9\",\"../View.js\");var $x3F9$var$__extends=$x3F9$exports&&$x3F9$exports.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),$x3F9$var$MAX_RATIO=.75,$x3F9$var$MIN_RATIO=.1,$x3F9$var$ControlledMap=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $x3F9$var$__extends(t,e),t.prototype.createRenderer=function(){return new $x3F9$import$CompositeMapRenderer(this)},t}($x3F9$import$PluggableMap),$x3F9$export$default=function(e){function t(t){var i=this,o=t||{};(i=e.call(this,{element:document.createElement(\"div\"),render:o.render||$x3F9$export$render,target:o.target})||this).boundHandleRotationChanged_=i.handleRotationChanged_.bind(i),i.collapsed_=void 0===o.collapsed||o.collapsed,i.collapsible_=void 0===o.collapsible||o.collapsible,i.collapsible_||(i.collapsed_=!1),i.rotateWithView_=void 0!==o.rotateWithView&&o.rotateWithView,i.viewExtent_=void 0;var r=void 0!==o.className?o.className:\"ol-overviewmap\",a=void 0!==o.tipLabel?o.tipLabel:\"Overview map\",n=void 0!==o.collapseLabel?o.collapseLabel:\"«\";\"string\"==typeof n?(i.collapseLabel_=document.createElement(\"span\"),i.collapseLabel_.textContent=n):i.collapseLabel_=n;var l=void 0!==o.label?o.label:\"»\";\"string\"==typeof l?(i.label_=document.createElement(\"span\"),i.label_.textContent=l):i.label_=l;var p=i.collapsible_&&!i.collapsed_?i.collapseLabel_:i.label_,s=document.createElement(\"button\");s.setAttribute(\"type\",\"button\"),s.title=a,s.appendChild(p),s.addEventListener($x3F9$import$EventType.CLICK,i.handleClick_.bind(i),!1),i.ovmapDiv_=document.createElement(\"div\"),i.ovmapDiv_.className=\"ol-overviewmap-map\",i.view_=o.view,i.ovmap_=new $x3F9$var$ControlledMap({view:o.view});var $=i.ovmap_;o.layers&&o.layers.forEach(function(e){$.addLayer(e)});var v=document.createElement(\"div\");v.className=\"ol-overviewmap-box\",v.style.boxSizing=\"border-box\",i.boxOverlay_=new $x3F9$import$Overlay({position:[0,0],positioning:$x3F9$import$OverlayPositioning.CENTER_CENTER,element:v}),i.ovmap_.addOverlay(i.boxOverlay_);var d=r+\" \"+$x3F9$import$CLASS_UNSELECTABLE+\" \"+$x3F9$import$CLASS_CONTROL+(i.collapsed_&&i.collapsible_?\" \"+$x3F9$import$CLASS_COLLAPSED:\"\")+(i.collapsible_?\"\":\" ol-uncollapsible\"),c=i.element;c.className=d,c.appendChild(i.ovmapDiv_),c.appendChild(s);var _=i,h=i.boxOverlay_,x=i.boxOverlay_.getElement(),u=function(e){var t,i={clientX:(t=e).clientX,clientY:t.clientY},o=$.getEventCoordinateInternal(i);h.setPosition(o)},m=function(e){var t=$.getEventCoordinateInternal(e);_.getMap().getView().setCenterInternal(t),window.removeEventListener(\"mousemove\",u),window.removeEventListener(\"mouseup\",m)};return x.addEventListener(\"mousedown\",function(){window.addEventListener(\"mousemove\",u),window.addEventListener(\"mouseup\",m)}),i}return $x3F9$var$__extends(t,e),t.prototype.setMap=function(t){var i=this.getMap();if(t!==i){if(i){var o=i.getView();o&&this.unbindView_(o),this.ovmap_.setTarget(null)}if(e.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push($x3F9$import$listen(t,$x3F9$import$ObjectEventType.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var r=t.getView();r&&(this.bindView_(r),r.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},t.prototype.handleMapPropertyChange_=function(e){if(e.key===$x3F9$import$MapProperty.VIEW){var t=e.oldValue;t&&this.unbindView_(t);var i=this.getMap().getView();this.bindView_(i)}},t.prototype.bindView_=function(e){if(!this.view_){var t=new $x3F9$import$View({projection:e.getProjection()});this.ovmap_.setView(t)}e.addEventListener($x3F9$import$getChangeEventType($x3F9$import$ViewProperty.ROTATION),this.boundHandleRotationChanged_),this.handleRotationChanged_()},t.prototype.unbindView_=function(e){e.removeEventListener($x3F9$import$getChangeEventType($x3F9$import$ViewProperty.ROTATION),this.boundHandleRotationChanged_)},t.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},t.prototype.validateExtent_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var i=e.getSize(),o=e.getView().calculateExtentInternal(i);if(!this.viewExtent_||!$x3F9$import$equalsExtent(o,this.viewExtent_)){this.viewExtent_=o;var r=t.getSize(),a=t.getView().calculateExtentInternal(r),n=t.getPixelFromCoordinateInternal($x3F9$import$getTopLeft(o)),l=t.getPixelFromCoordinateInternal($x3F9$import$getBottomRight(o)),p=Math.abs(n[0]-l[0]),s=Math.abs(n[1]-l[1]),$=r[0],v=r[1];p<$*$x3F9$var$MIN_RATIO||s<v*$x3F9$var$MIN_RATIO||p>$*$x3F9$var$MAX_RATIO||s>v*$x3F9$var$MAX_RATIO?this.resetExtent_():$x3F9$import$containsExtent(a,o)||this.recenter_()}}},t.prototype.resetExtent_=function(){if(0!==$x3F9$var$MAX_RATIO&&0!==$x3F9$var$MIN_RATIO){var e=this.getMap(),t=this.ovmap_,i=e.getSize(),o=e.getView().calculateExtentInternal(i),r=t.getView(),a=Math.log($x3F9$var$MAX_RATIO/$x3F9$var$MIN_RATIO)/Math.LN2,n=1/(Math.pow(2,a/2)*$x3F9$var$MIN_RATIO);$x3F9$import$scaleFromCenter(o,n),r.fitInternal($x3F9$import$polygonFromExtent(o))}},t.prototype.recenter_=function(){var e=this.getMap(),t=this.ovmap_,i=e.getView();t.getView().setCenterInternal(i.getCenterInternal())},t.prototype.updateBox_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var i=e.getSize(),o=e.getView(),r=t.getView(),a=this.rotateWithView_?0:-o.getRotation(),n=this.boxOverlay_,l=this.boxOverlay_.getElement(),p=o.getCenterInternal(),s=o.getResolution(),$=r.getResolution(),v=i[0]*s/$,d=i[1]*s/$;if(n.setPosition(p),l){l.style.width=v+\"px\",l.style.height=d+\"px\";var c=\"rotate(\"+a+\"rad)\";l.style.transform=c}}},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},t.prototype.handleToggle_=function(){this.element.classList.toggle($x3F9$import$CLASS_COLLAPSED),this.collapsed_?$x3F9$import$replaceNode(this.collapseLabel_,this.label_):$x3F9$import$replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;if(!this.collapsed_){if(e.isRendered())return this.viewExtent_=void 0,void e.render();e.updateSize(),this.resetExtent_(),$x3F9$import$listenOnce(e,$x3F9$import$MapEventType.POSTRENDER,function(e){this.updateBox_()},this)}},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle(\"ol-uncollapsible\"),!e&&this.collapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.setRotateWithView=function(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},t.prototype.getOverviewMap=function(){return this.ovmap_},t}($x3F9$import$Control);function $x3F9$export$render(e){this.validateExtent_(),this.updateBox_()}$x3F9$exports.render=$x3F9$export$render,$x3F9$exports.default=$x3F9$export$default;"},"sourceMaps":null,"error":null,"hash":"c1ea716102bdb153f0501bc117b229dc","cacheData":{"env":{},"imports":{"$x3F9$import$PluggableMap":["../PluggableMap.js","default"],"$x3F9$import$CompositeMapRenderer":["../renderer/Composite.js","default"],"$x3F9$import$MapEventType":["../MapEventType.js","default"],"$x3F9$import$MapProperty":["../MapProperty.js","default"],"$x3F9$import$getChangeEventType":["../Object.js","getChangeEventType"],"$x3F9$import$ObjectEventType":["../ObjectEventType.js","default"],"$x3F9$import$Overlay":["../Overlay.js","default"],"$x3F9$import$OverlayPositioning":["../OverlayPositioning.js","default"],"$x3F9$import$ViewProperty":["../ViewProperty.js","default"],"$x3F9$import$Control":["./Control.js","default"],"$x3F9$import$polygonFromExtent":["../geom/Polygon.js","fromExtent"],"$x3F9$import$CLASS_CONTROL":["../css.js","CLASS_CONTROL"],"$x3F9$import$CLASS_UNSELECTABLE":["../css.js","CLASS_UNSELECTABLE"],"$x3F9$import$CLASS_COLLAPSED":["../css.js","CLASS_COLLAPSED"],"$x3F9$import$replaceNode":["../dom.js","replaceNode"],"$x3F9$import$listen":["../events.js","listen"],"$x3F9$import$listenOnce":["../events.js","listenOnce"],"$x3F9$import$EventType":["../events/EventType.js","default"],"$x3F9$import$containsExtent":["../extent.js","containsExtent"],"$x3F9$import$equalsExtent":["../extent.js","equals"],"$x3F9$import$getBottomRight":["../extent.js","getBottomRight"],"$x3F9$import$getTopLeft":["../extent.js","getTopLeft"],"$x3F9$import$scaleFromCenter":["../extent.js","scaleFromCenter"],"$x3F9$import$View":["../View.js","default"]},"exports":{"render":"$x3F9$export$render","default":"$x3F9$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}