{"id":"JJzC","dependencies":[{"name":"D:\\Projects\\ol\\package.json","includedInParent":true,"mtime":1586548571472},{"name":"D:\\Projects\\ol\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1586157047249},{"name":"./common.js","loc":{"line":17,"column":32},"parent":"D:\\Projects\\ol\\node_modules\\ol\\reproj\\Image.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\reproj\\common.js"},{"name":"../ImageBase.js","loc":{"line":18,"column":22},"parent":"D:\\Projects\\ol\\node_modules\\ol\\reproj\\Image.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\ImageBase.js"},{"name":"../ImageState.js","loc":{"line":19,"column":23},"parent":"D:\\Projects\\ol\\node_modules\\ol\\reproj\\Image.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\ImageState.js"},{"name":"../events.js","loc":{"line":20,"column":38},"parent":"D:\\Projects\\ol\\node_modules\\ol\\reproj\\Image.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events.js"},{"name":"../events/EventType.js","loc":{"line":21,"column":22},"parent":"D:\\Projects\\ol\\node_modules\\ol\\reproj\\Image.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events\\EventType.js"},{"name":"../extent.js","loc":{"line":22,"column":64},"parent":"D:\\Projects\\ol\\node_modules\\ol\\reproj\\Image.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\extent.js"},{"name":"../reproj.js","loc":{"line":23,"column":71},"parent":"D:\\Projects\\ol\\node_modules\\ol\\reproj\\Image.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\reproj.js"},{"name":"./Triangulation.js","loc":{"line":24,"column":26},"parent":"D:\\Projects\\ol\\node_modules\\ol\\reproj\\Image.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\reproj\\Triangulation.js"}],"generated":{"js":"var $JJzC$exports={};$parcel$require(\"JJzC\",\"./common.js\"),$parcel$require(\"JJzC\",\"../ImageBase.js\"),$parcel$require(\"JJzC\",\"../ImageState.js\"),$parcel$require(\"JJzC\",\"../events.js\"),$parcel$require(\"JJzC\",\"../events/EventType.js\"),$parcel$require(\"JJzC\",\"../extent.js\"),$parcel$require(\"JJzC\",\"../reproj.js\"),$parcel$require(\"JJzC\",\"./Triangulation.js\");var $JJzC$var$__extends=$JJzC$exports&&$JJzC$exports.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),$JJzC$export$default=function(t){function e(e,r,o,i,a,n){var s=this,$=e.getExtent(),J=r.getExtent(),u=J?$JJzC$import$getIntersection(o,J):o,c=$JJzC$import$getCenter(u),p=$JJzC$import$calculateSourceResolution(e,r,c,i),g=$JJzC$import$ERROR_THRESHOLD,_=new $JJzC$import$Triangulation(e,r,u,$,p*g,i),m=n(_.calculateSourceExtent(),p,a),l=m?$JJzC$import$ImageState.IDLE:$JJzC$import$ImageState.EMPTY,h=m?m.getPixelRatio():1;return(s=t.call(this,o,i,h,l)||this).targetProj_=r,s.maxSourceExtent_=$,s.triangulation_=_,s.targetResolution_=i,s.targetExtent_=o,s.sourceImage_=m,s.sourcePixelRatio_=h,s.canvas_=null,s.sourceListenerKey_=null,s}return $JJzC$var$__extends(e,t),e.prototype.disposeInternal=function(){this.state==$JJzC$import$ImageState.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==$JJzC$import$ImageState.LOADED){var e=$JJzC$import$getWidth(this.targetExtent_)/this.targetResolution_,r=$JJzC$import$getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=$JJzC$import$renderReprojected(e,r,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==$JJzC$import$ImageState.IDLE){this.state=$JJzC$import$ImageState.LOADING,this.changed();var t=this.sourceImage_.getState();t==$JJzC$import$ImageState.LOADED||t==$JJzC$import$ImageState.ERROR?this.reproject_():(this.sourceListenerKey_=$JJzC$import$listen(this.sourceImage_,$JJzC$import$EventType.CHANGE,function(t){var e=this.sourceImage_.getState();e!=$JJzC$import$ImageState.LOADED&&e!=$JJzC$import$ImageState.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){$JJzC$import$unlistenByKey(this.sourceListenerKey_),this.sourceListenerKey_=null},e}($JJzC$import$ImageBase);$JJzC$exports.default=$JJzC$export$default;"},"sourceMaps":null,"error":null,"hash":"1d26dbbf4aafafd0a2ea69a549dff7c4","cacheData":{"env":{},"imports":{"$JJzC$import$ERROR_THRESHOLD":["./common.js","ERROR_THRESHOLD"],"$JJzC$import$ImageBase":["../ImageBase.js","default"],"$JJzC$import$ImageState":["../ImageState.js","default"],"$JJzC$import$listen":["../events.js","listen"],"$JJzC$import$unlistenByKey":["../events.js","unlistenByKey"],"$JJzC$import$EventType":["../events/EventType.js","default"],"$JJzC$import$getCenter":["../extent.js","getCenter"],"$JJzC$import$getIntersection":["../extent.js","getIntersection"],"$JJzC$import$getHeight":["../extent.js","getHeight"],"$JJzC$import$getWidth":["../extent.js","getWidth"],"$JJzC$import$calculateSourceResolution":["../reproj.js","calculateSourceResolution"],"$JJzC$import$renderReprojected":["../reproj.js","render"],"$JJzC$import$Triangulation":["./Triangulation.js","default"]},"exports":{"default":"$JJzC$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}