{"id":"gmdY","dependencies":[{"name":"D:\\Projects\\ol\\package.json","includedInParent":true,"mtime":1586548571472},{"name":"D:\\Projects\\ol\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1586157047249},{"name":"../extent.js","loc":{"line":4,"column":149},"parent":"D:\\Projects\\ol\\node_modules\\ol\\reproj\\Triangulation.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\extent.js"},{"name":"../math.js","loc":{"line":5,"column":23},"parent":"D:\\Projects\\ol\\node_modules\\ol\\reproj\\Triangulation.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\math.js"},{"name":"../proj.js","loc":{"line":6,"column":29},"parent":"D:\\Projects\\ol\\node_modules\\ol\\reproj\\Triangulation.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\proj.js"}],"generated":{"js":"var $gmdY$exports={};$parcel$require(\"gmdY\",\"../extent.js\"),$parcel$require(\"gmdY\",\"../math.js\"),$parcel$require(\"gmdY\",\"../proj.js\");var $gmdY$var$MAX_SUBDIVISION=10,$gmdY$var$MAX_TRIANGLE_WIDTH=.25,$gmdY$export$default=function(){function t(t,r,i,o,e,s){this.sourceProj_=t,this.targetProj_=r;var a={},d=$gmdY$import$getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var r=t[0]+\"/\"+t[1];return a[r]||(a[r]=d(t)),a[r]},this.maxSourceExtent_=o,this.errorThresholdSquared_=e*e,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&$gmdY$import$getWidth(o)==$gmdY$import$getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?$gmdY$import$getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?$gmdY$import$getWidth(this.targetProj_.getExtent()):null;var n=$gmdY$import$getTopLeft(i),h=$gmdY$import$getTopRight(i),$=$gmdY$import$getBottomRight(i),u=$gmdY$import$getBottomLeft(i),m=this.transformInv_(n),g=this.transformInv_(h),_=this.transformInv_($),c=this.transformInv_(u),l=$gmdY$var$MAX_SUBDIVISION+(s?Math.max(0,Math.ceil(Math.log2($gmdY$import$getArea(i)/(s*s*256*256)))):0);if(this.addQuad_(n,h,$,u,m,g,_,c,l),this.wrapsXInSource_){var p=1/0;this.triangles_.forEach(function(t,r,i){p=Math.min(p,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-p>this.sourceWorldWidth_/2){var r=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];r[0][0]-p>this.sourceWorldWidth_/2&&(r[0][0]-=this.sourceWorldWidth_),r[1][0]-p>this.sourceWorldWidth_/2&&(r[1][0]-=this.sourceWorldWidth_),r[2][0]-p>this.sourceWorldWidth_/2&&(r[2][0]-=this.sourceWorldWidth_);var i=Math.min(r[0][0],r[1][0],r[2][0]);Math.max(r[0][0],r[1][0],r[2][0])-i<this.sourceWorldWidth_/2&&(t.source=r)}}.bind(this))}a={}}return t.prototype.addTriangle_=function(t,r,i,o,e,s){this.triangles_.push({source:[o,e,s],target:[t,r,i]})},t.prototype.addQuad_=function(t,r,i,o,e,s,a,d,n){var h=$gmdY$import$boundingExtent([e,s,a,d]),$=this.sourceWorldWidth_?$gmdY$import$getWidth(h)/this.sourceWorldWidth_:null,u=this.sourceWorldWidth_,m=this.sourceProj_.canWrapX()&&$>.5&&$<1,g=!1;if(n>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var _=$gmdY$import$boundingExtent([t,r,i,o]);g=$gmdY$import$getWidth(_)/this.targetWorldWidth_>$gmdY$var$MAX_TRIANGLE_WIDTH||g}!m&&this.sourceProj_.isGlobal()&&$&&(g=$>$gmdY$var$MAX_TRIANGLE_WIDTH||g)}if(g||!this.maxSourceExtent_||$gmdY$import$intersects(h,this.maxSourceExtent_)){if(!(g||isFinite(e[0])&&isFinite(e[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(d[0])&&isFinite(d[1]))){if(!(n>0))return;g=!0}if(n>0){if(!g){var c=[(t[0]+i[0])/2,(t[1]+i[1])/2],l=this.transformInv_(c),p=void 0;if(m)p=($gmdY$import$modulo(e[0],u)+$gmdY$import$modulo(a[0],u))/2-$gmdY$import$modulo(l[0],u);else p=(e[0]+a[0])/2-l[0];var f=(e[1]+a[1])/2-l[1];g=p*p+f*f>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var W=[(r[0]+i[0])/2,(r[1]+i[1])/2],Y=this.transformInv_(W),v=[(o[0]+t[0])/2,(o[1]+t[1])/2],I=this.transformInv_(v);this.addQuad_(t,r,W,v,e,s,Y,I,n-1),this.addQuad_(v,W,i,o,I,Y,a,d,n-1)}else{var x=[(t[0]+r[0])/2,(t[1]+r[1])/2],E=this.transformInv_(x),j=[(i[0]+o[0])/2,(i[1]+o[1])/2],S=this.transformInv_(j);this.addQuad_(t,x,j,o,e,E,S,d,n-1),this.addQuad_(x,r,i,j,E,s,a,S,n-1)}return}}if(m){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,i,o,e,a,d),this.addTriangle_(t,r,i,e,s,a)}},t.prototype.calculateSourceExtent=function(){var t=$gmdY$import$createEmpty();return this.triangles_.forEach(function(r,i,o){var e=r.source;$gmdY$import$extendCoordinate(t,e[0]),$gmdY$import$extendCoordinate(t,e[1]),$gmdY$import$extendCoordinate(t,e[2])}),t},t.prototype.getTriangles=function(){return this.triangles_},t}();$gmdY$exports.default=$gmdY$export$default;"},"sourceMaps":null,"error":null,"hash":"09eeb2813bdbb2f7d1ecb2223eecb97b","cacheData":{"env":{},"imports":{"$gmdY$import$boundingExtent":["../extent.js","boundingExtent"],"$gmdY$import$createEmpty":["../extent.js","createEmpty"],"$gmdY$import$extendCoordinate":["../extent.js","extendCoordinate"],"$gmdY$import$getArea":["../extent.js","getArea"],"$gmdY$import$getBottomLeft":["../extent.js","getBottomLeft"],"$gmdY$import$getBottomRight":["../extent.js","getBottomRight"],"$gmdY$import$getTopLeft":["../extent.js","getTopLeft"],"$gmdY$import$getTopRight":["../extent.js","getTopRight"],"$gmdY$import$getWidth":["../extent.js","getWidth"],"$gmdY$import$intersects":["../extent.js","intersects"],"$gmdY$import$modulo":["../math.js","modulo"],"$gmdY$import$getTransform":["../proj.js","getTransform"]},"exports":{"default":"$gmdY$export$default"},"wildcards":[],"sideEffects":false,"isES6Module":true}}