{"id":"agxc","dependencies":[{"name":"D:\\Projects\\ol\\package.json","includedInParent":true,"mtime":1586548571472},{"name":"D:\\Projects\\ol\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1586157047249},{"name":"../Tile.js","loc":{"line":17,"column":17},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\UTFGrid.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\Tile.js"},{"name":"../TileState.js","loc":{"line":18,"column":22},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\UTFGrid.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\TileState.js"},{"name":"../tileurlfunction.js","loc":{"line":19,"column":57},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\UTFGrid.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\tileurlfunction.js"},{"name":"../asserts.js","loc":{"line":20,"column":23},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\UTFGrid.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\asserts.js"},{"name":"../events.js","loc":{"line":21,"column":27},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\UTFGrid.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events.js"},{"name":"../events/EventType.js","loc":{"line":22,"column":22},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\UTFGrid.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events\\EventType.js"},{"name":"../extent.js","loc":{"line":23,"column":43},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\UTFGrid.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\extent.js"},{"name":"../net.js","loc":{"line":24,"column":38},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\UTFGrid.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\net.js"},{"name":"../proj.js","loc":{"line":25,"column":66},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\UTFGrid.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\proj.js"},{"name":"./State.js","loc":{"line":26,"column":24},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\UTFGrid.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\source\\State.js"},{"name":"./Tile.js","loc":{"line":27,"column":23},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\UTFGrid.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\source\\Tile.js"},{"name":"../tilecoord.js","loc":{"line":28,"column":26},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\UTFGrid.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\tilecoord.js"},{"name":"../tilegrid.js","loc":{"line":29,"column":48},"parent":"D:\\Projects\\ol\\node_modules\\ol\\source\\UTFGrid.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\tilegrid.js"}],"generated":{"js":"var $agxc$exports={};$parcel$require(\"agxc\",\"../Tile.js\"),$parcel$require(\"agxc\",\"../TileState.js\"),$parcel$require(\"agxc\",\"../tileurlfunction.js\"),$parcel$require(\"agxc\",\"../asserts.js\"),$parcel$require(\"agxc\",\"../events.js\"),$parcel$require(\"agxc\",\"../events/EventType.js\"),$parcel$require(\"agxc\",\"../extent.js\"),$parcel$require(\"agxc\",\"../net.js\"),$parcel$require(\"agxc\",\"../proj.js\"),$parcel$require(\"agxc\",\"./State.js\"),$parcel$require(\"agxc\",\"./Tile.js\"),$parcel$require(\"agxc\",\"../tilecoord.js\"),$parcel$require(\"agxc\",\"../tilegrid.js\");var $agxc$var$__extends=$agxc$exports&&$agxc$exports.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),$agxc$export$CustomTile=function(t){function e(e,r,i,o,a,n){var s=t.call(this,e,r)||this;return s.src_=i,s.extent_=o,s.preemptive_=a,s.grid_=null,s.keys_=null,s.data_=null,s.jsonp_=n,s}return $agxc$var$__extends(e,t),e.prototype.getImage=function(){return null},e.prototype.getData=function(t){if(!this.grid_||!this.keys_)return null;var e=(t[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),r=(t[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),i=this.grid_[Math.floor((1-r)*this.grid_.length)];if(\"string\"!=typeof i)return null;var o=i.charCodeAt(Math.floor(e*i.length));o>=93&&o--,o>=35&&o--;var a=null;if((o-=32)in this.keys_){var n=this.keys_[o];a=this.data_&&n in this.data_?this.data_[n]:n}return a},e.prototype.forDataAtCoordinate=function(t,e,r){this.state==$agxc$import$TileState.EMPTY&&!0===r?(this.state=$agxc$import$TileState.IDLE,$agxc$import$listenOnce(this,$agxc$import$EventType.CHANGE,function(r){e(this.getData(t))},this),this.loadInternal_()):!0===r?setTimeout(function(){e(this.getData(t))}.bind(this),0):e(this.getData(t))},e.prototype.getKey=function(){return this.src_},e.prototype.handleError_=function(){this.state=$agxc$import$TileState.ERROR,this.changed()},e.prototype.handleLoad_=function(t){this.grid_=t.grid,this.keys_=t.keys,this.data_=t.data,this.state=$agxc$import$TileState.LOADED,this.changed()},e.prototype.loadInternal_=function(){if(this.state==$agxc$import$TileState.IDLE)if(this.state=$agxc$import$TileState.LOADING,this.jsonp_)$agxc$import$requestJSONP(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var t=new XMLHttpRequest;t.addEventListener(\"load\",this.onXHRLoad_.bind(this)),t.addEventListener(\"error\",this.onXHRError_.bind(this)),t.open(\"GET\",this.src_),t.send()}},e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var r=void 0;try{r=JSON.parse(e.responseText)}catch(i){return void this.handleError_()}this.handleLoad_(r)}else this.handleError_()},e.prototype.onXHRError_=function(t){this.handleError_()},e.prototype.load=function(){this.preemptive_?this.loadInternal_():this.setState($agxc$import$TileState.EMPTY)},e}($agxc$import$Tile);$agxc$exports.CustomTile=$agxc$export$CustomTile;var $agxc$export$default=function(t){function e(e){var r=t.call(this,{projection:$agxc$import$getProjection(\"EPSG:3857\"),state:$agxc$import$SourceState.LOADING})||this;if(r.preemptive_=void 0===e.preemptive||e.preemptive,r.tileUrlFunction_=$agxc$import$nullTileUrlFunction,r.template_=void 0,r.jsonp_=e.jsonp||!1,e.url)if(r.jsonp_)$agxc$import$requestJSONP(e.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var i=new XMLHttpRequest;i.addEventListener(\"load\",r.onXHRLoad_.bind(r)),i.addEventListener(\"error\",r.onXHRError_.bind(r)),i.open(\"GET\",e.url),i.send()}else e.tileJSON?r.handleTileJSONResponse(e.tileJSON):$agxc$import$assert(!1,51);return r}return $agxc$var$__extends(e,t),e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var r=void 0;try{r=JSON.parse(e.responseText)}catch(i){return void this.handleTileJSONError()}this.handleTileJSONResponse(r)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTemplate=function(){return this.template_},e.prototype.forDataAtCoordinateAndResolution=function(t,e,r,i){if(this.tileGrid){var o=this.tileGrid.getZForResolution(e,this.zDirection),a=this.tileGrid.getTileCoordForCoordAndZ(t,o);this.getTile(a[0],a[1],a[2],1,this.getProjection()).forDataAtCoordinate(t,r,i)}else!0===i?setTimeout(function(){r(null)},0):r(null)},e.prototype.handleTileJSONError=function(){this.setState($agxc$import$SourceState.ERROR)},e.prototype.handleTileJSONResponse=function(t){var e,r=$agxc$import$getProjection(\"EPSG:4326\"),i=this.getProjection();if(void 0!==t.bounds){var o=$agxc$import$getTransformFromProjections(r,i);e=$agxc$import$applyTransform(t.bounds,o)}var a=t.minzoom||0,n=t.maxzoom||22,s=$agxc$import$createXYZ({extent:$agxc$import$extentFromProjection(i),maxZoom:n,minZoom:a});this.tileGrid=s,this.template_=t.template;var l=t.grids;if(l){if(this.tileUrlFunction_=$agxc$import$createFromTemplates(l,s),void 0!==t.attribution){var $=void 0!==e?e:r.getExtent();this.setAttributions(function(e){return $agxc$import$intersects($,e.extent)?[t.attribution]:null})}this.setState($agxc$import$SourceState.READY)}else this.setState($agxc$import$SourceState.ERROR)},e.prototype.getTile=function(t,e,r,i,o){var a=$agxc$import$getKeyZXY(t,e,r);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var n=[t,e,r],s=this.getTileCoordForTileUrlFunction(n,o),l=this.tileUrlFunction_(s,i,o),$=new $agxc$export$CustomTile(n,void 0!==l?$agxc$import$TileState.IDLE:$agxc$import$TileState.EMPTY,void 0!==l?l:\"\",this.tileGrid.getTileCoordExtent(n),this.preemptive_,this.jsonp_);return this.tileCache.set(a,$),$},e.prototype.useTile=function(t,e,r){var i=$agxc$import$getKeyZXY(t,e,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}($agxc$import$TileSource);$agxc$exports.default=$agxc$export$default;"},"sourceMaps":null,"error":null,"hash":"7c8881a501de40bd55425595a5554728","cacheData":{"env":{},"imports":{"$agxc$import$Tile":["../Tile.js","default"],"$agxc$import$TileState":["../TileState.js","default"],"$agxc$import$createFromTemplates":["../tileurlfunction.js","createFromTemplates"],"$agxc$import$nullTileUrlFunction":["../tileurlfunction.js","nullTileUrlFunction"],"$agxc$import$assert":["../asserts.js","assert"],"$agxc$import$listenOnce":["../events.js","listenOnce"],"$agxc$import$EventType":["../events/EventType.js","default"],"$agxc$import$applyTransform":["../extent.js","applyTransform"],"$agxc$import$intersects":["../extent.js","intersects"],"$agxc$import$requestJSONP":["../net.js","jsonp"],"$agxc$import$getProjection":["../proj.js","get"],"$agxc$import$getTransformFromProjections":["../proj.js","getTransformFromProjections"],"$agxc$import$SourceState":["./State.js","default"],"$agxc$import$TileSource":["./Tile.js","default"],"$agxc$import$getKeyZXY":["../tilecoord.js","getKeyZXY"],"$agxc$import$createXYZ":["../tilegrid.js","createXYZ"],"$agxc$import$extentFromProjection":["../tilegrid.js","extentFromProjection"]},"exports":{"CustomTile":"$agxc$export$CustomTile","default":"$agxc$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}