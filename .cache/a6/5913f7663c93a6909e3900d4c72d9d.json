{"id":"dEhx","dependencies":[{"name":"D:\\Projects\\ol\\package.json","includedInParent":true,"mtime":1586548571472},{"name":"D:\\Projects\\ol\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1586157047249},{"name":"../../ImageCanvas.js","loc":{"line":17,"column":24},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorImageLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\ImageCanvas.js"},{"name":"../../ViewHint.js","loc":{"line":18,"column":21},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorImageLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\ViewHint.js"},{"name":"../../extent.js","loc":{"line":19,"column":62},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorImageLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\extent.js"},{"name":"../../obj.js","loc":{"line":20,"column":23},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorImageLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\obj.js"},{"name":"./ImageLayer.js","loc":{"line":21,"column":37},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorImageLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\ImageLayer.js"},{"name":"./VectorLayer.js","loc":{"line":22,"column":38},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorImageLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorLayer.js"},{"name":"../../events/EventType.js","loc":{"line":23,"column":22},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorImageLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events\\EventType.js"},{"name":"../../ImageState.js","loc":{"line":24,"column":23},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorImageLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\ImageState.js"},{"name":"../../render.js","loc":{"line":25,"column":37},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorImageLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\render.js"},{"name":"../../transform.js","loc":{"line":26,"column":39},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorImageLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\transform.js"}],"generated":{"js":"var $dEhx$exports={};$parcel$require(\"dEhx\",\"../../ImageCanvas.js\"),$parcel$require(\"dEhx\",\"../../ViewHint.js\"),$parcel$require(\"dEhx\",\"../../extent.js\"),$parcel$require(\"dEhx\",\"../../obj.js\"),$parcel$require(\"dEhx\",\"./ImageLayer.js\"),$parcel$require(\"dEhx\",\"./VectorLayer.js\"),$parcel$require(\"dEhx\",\"../../events/EventType.js\"),$parcel$require(\"dEhx\",\"../../ImageState.js\"),$parcel$require(\"dEhx\",\"../../render.js\"),$parcel$require(\"dEhx\",\"../../transform.js\");var $dEhx$var$__extends=$dEhx$exports&&$dEhx$exports.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function o(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),$dEhx$export$default=function(e){function r(r){var t=e.call(this,r)||this;return t.vectorRenderer_=new $dEhx$import$CanvasVectorLayerRenderer(r),t.layerImageRatio_=r.getImageRatio(),t.coordinateToVectorPixelTransform_=$dEhx$import$create(),t.renderedPixelToCoordinateTransform_=null,t}return $dEhx$var$__extends(r,e),r.prototype.disposeInternal=function(){this.vectorRenderer_.dispose(),e.prototype.disposeInternal.call(this)},r.prototype.getFeatures=function(e){if(this.vectorRenderer_){var r=$dEhx$import$apply(this.coordinateToVectorPixelTransform_,$dEhx$import$apply(this.renderedPixelToCoordinateTransform_,e.slice()));return this.vectorRenderer_.getFeatures(r)}return new Promise(function(e,r){e([])})},r.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()},r.prototype.prepareFrame=function(e){var r=e.pixelRatio,t=e.viewState,o=t.resolution,n=e.viewHints,i=this.vectorRenderer_,a=e.extent;1!==this.layerImageRatio_&&(a=a.slice(0),$dEhx$import$scaleFromCenter(a,this.layerImageRatio_));var $=$dEhx$import$getWidth(a)/o,s=$dEhx$import$getHeight(a)/o;if(!n[$dEhx$import$ViewHint.ANIMATING]&&!n[$dEhx$import$ViewHint.INTERACTING]&&!$dEhx$import$isEmpty(a)){i.useContainer(null,null,1);var d=i.context,p=$dEhx$import$assign({},e,{declutterItems:[],extent:a,size:[$,s],viewState:$dEhx$import$assign({},e.viewState,{rotation:0})}),h=new $dEhx$import$ImageCanvas(a,o,r,d.canvas,function(e){i.prepareFrame(p)&&i.replayGroupChanged&&(i.renderFrame(p,null),$dEhx$import$renderDeclutterItems(p,null),e())});h.addEventListener($dEhx$import$EventType.CHANGE,function(){h.getState()===$dEhx$import$ImageState.LOADED&&(this.image_=h)}.bind(this)),h.load()}if(this.image_){var c=this.image_,l=c.getResolution()*r/c.getPixelRatio();this.renderedResolution=l,this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.coordinateToVectorPixelTransform_=$dEhx$import$compose(this.coordinateToVectorPixelTransform_,$/2,s/2,1/l,-1/l,0,-t.center[0],-t.center[1])}return!!this.image_},r.prototype.preRender=function(){},r.prototype.postRender=function(){},r.prototype.forEachFeatureAtCoordinate=function(r,t,o,n,i){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(r,t,o,n,i):e.prototype.forEachFeatureAtCoordinate.call(this,r,t,o,n,i)},r}($dEhx$import$CanvasImageLayerRenderer);$dEhx$exports.default=$dEhx$export$default;"},"sourceMaps":null,"error":null,"hash":"59e77e93473a2127239072cb8c6367c3","cacheData":{"env":{},"imports":{"$dEhx$import$ImageCanvas":["../../ImageCanvas.js","default"],"$dEhx$import$ViewHint":["../../ViewHint.js","default"],"$dEhx$import$getHeight":["../../extent.js","getHeight"],"$dEhx$import$getWidth":["../../extent.js","getWidth"],"$dEhx$import$isEmpty":["../../extent.js","isEmpty"],"$dEhx$import$scaleFromCenter":["../../extent.js","scaleFromCenter"],"$dEhx$import$assign":["../../obj.js","assign"],"$dEhx$import$CanvasImageLayerRenderer":["./ImageLayer.js","default"],"$dEhx$import$CanvasVectorLayerRenderer":["./VectorLayer.js","default"],"$dEhx$import$EventType":["../../events/EventType.js","default"],"$dEhx$import$ImageState":["../../ImageState.js","default"],"$dEhx$import$renderDeclutterItems":["../../render.js","renderDeclutterItems"],"$dEhx$import$apply":["../../transform.js","apply"],"$dEhx$import$compose":["../../transform.js","compose"],"$dEhx$import$create":["../../transform.js","create"]},"exports":{"default":"$dEhx$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}