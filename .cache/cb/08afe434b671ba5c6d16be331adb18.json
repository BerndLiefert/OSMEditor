{"id":"rXL1","dependencies":[{"name":"D:\\Projects\\ol\\package.json","includedInParent":true,"mtime":1586548571472},{"name":"D:\\Projects\\ol\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1586157047249},{"name":"./tilegrid/common.js","loc":{"line":17,"column":34},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\tilegrid\\common.js"},{"name":"./functions.js","loc":{"line":18,"column":21},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\functions.js"},{"name":"./centerconstraint.js","loc":{"line":19,"column":49},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\centerconstraint.js"},{"name":"./Object.js","loc":{"line":20,"column":23},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\Object.js"},{"name":"./resolutionconstraint.js","loc":{"line":38,"column":39},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\resolutionconstraint.js"},{"name":"./rotationconstraint.js","loc":{"line":22,"column":79},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\rotationconstraint.js"},{"name":"./ViewHint.js","loc":{"line":23,"column":21},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\ViewHint.js"},{"name":"./ViewProperty.js","loc":{"line":24,"column":25},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\ViewProperty.js"},{"name":"./array.js","loc":{"line":25,"column":34},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\array.js"},{"name":"./asserts.js","loc":{"line":26,"column":23},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\asserts.js"},{"name":"./coordinate.js","loc":{"line":36,"column":23},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\coordinate.js"},{"name":"./easing.js","loc":{"line":37,"column":24},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\easing.js"},{"name":"./extent.js","loc":{"line":29,"column":75},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\extent.js"},{"name":"./geom/GeometryType.js","loc":{"line":30,"column":25},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\geom\\GeometryType.js"},{"name":"./geom/Polygon.js","loc":{"line":31,"column":48},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\geom\\Polygon.js"},{"name":"./math.js","loc":{"line":32,"column":30},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\math.js"},{"name":"./obj.js","loc":{"line":33,"column":23},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\obj.js"},{"name":"./proj.js","loc":{"line":34,"column":137},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\proj.js"},{"name":"./proj/Units.js","loc":{"line":35,"column":18},"parent":"D:\\Projects\\ol\\node_modules\\ol\\View.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\proj\\Units.js"}],"generated":{"js":"var $rXL1$exports={};$parcel$require(\"rXL1\",\"./tilegrid/common.js\"),$parcel$require(\"rXL1\",\"./functions.js\"),$parcel$require(\"rXL1\",\"./centerconstraint.js\"),$parcel$require(\"rXL1\",\"./Object.js\"),$parcel$require(\"rXL1\",\"./resolutionconstraint.js\"),$parcel$require(\"rXL1\",\"./rotationconstraint.js\"),$parcel$require(\"rXL1\",\"./ViewHint.js\"),$parcel$require(\"rXL1\",\"./ViewProperty.js\"),$parcel$require(\"rXL1\",\"./array.js\"),$parcel$require(\"rXL1\",\"./asserts.js\"),$parcel$require(\"rXL1\",\"./coordinate.js\"),$parcel$require(\"rXL1\",\"./easing.js\"),$parcel$require(\"rXL1\",\"./extent.js\"),$parcel$require(\"rXL1\",\"./geom/GeometryType.js\"),$parcel$require(\"rXL1\",\"./geom/Polygon.js\"),$parcel$require(\"rXL1\",\"./math.js\"),$parcel$require(\"rXL1\",\"./obj.js\"),$parcel$require(\"rXL1\",\"./proj.js\"),$parcel$require(\"rXL1\",\"./proj/Units.js\"),$parcel$require(\"rXL1\",\"./coordinate.js\"),$parcel$require(\"rXL1\",\"./easing.js\"),$parcel$require(\"rXL1\",\"./resolutionconstraint.js\");var $rXL1$var$__extends=$rXL1$exports&&$rXL1$exports.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$rXL1$var$DEFAULT_MIN_ZOOM=0,$rXL1$export$default=function(t){function o(o){var e=t.call(this)||this,r=$rXL1$import$assign({},o);return e.hints_=[0,0],e.animations_=[],e.updateAnimationKey_,e.projection_=$rXL1$import$createProjection(r.projection,\"EPSG:3857\"),e.viewportSize_=[100,100],e.targetCenter_=null,e.targetResolution_,e.targetRotation_,e.cancelAnchor_=void 0,r.center&&(r.center=$rXL1$import$fromUserCoordinate(r.center,e.projection_)),r.extent&&(r.extent=$rXL1$import$fromUserExtent(r.extent,e.projection_)),e.applyOptions_(r),e}return $rXL1$var$__extends(o,t),o.prototype.applyOptions_=function(t){var o=$rXL1$export$createResolutionConstraint(t);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=o.minZoom;var e=$rXL1$export$createCenterConstraint(t),r=o.constraint,i=$rXL1$export$createRotationConstraint(t);this.constraints_={center:e,resolution:r,rotation:i},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties({}),this.options_=t},o.prototype.getUpdatedOptions_=function(t){var o=$rXL1$import$assign({},this.options_);return void 0!==o.resolution?o.resolution=this.getResolution():o.zoom=this.getZoom(),o.center=this.getCenterInternal(),o.rotation=this.getRotation(),$rXL1$import$assign({},o,t)},o.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var o=new Array(arguments.length),e=0;e<o.length;++e){var r=arguments[e];r.center&&((r=$rXL1$import$assign({},r)).center=$rXL1$import$fromUserCoordinate(r.center,this.getProjection())),r.anchor&&((r=$rXL1$import$assign({},r)).anchor=$rXL1$import$fromUserCoordinate(r.anchor,this.getProjection())),o[e]=r}this.animateInternal.apply(this,o)},o.prototype.animateInternal=function(t){var o,e=arguments.length;if(e>1&&\"function\"==typeof arguments[e-1]&&(o=arguments[e-1],--e),!this.isDef()){var r=arguments[e-1];return r.center&&this.setCenterInternal(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(o&&$rXL1$var$animationCallback(o,!0))}for(var i=Date.now(),n=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_,p=[],$=0;$<e;++$){var u=arguments[$],h={start:i,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||$rXL1$import$inAndOut,callback:o};if(u.center&&(h.sourceCenter=n,h.targetCenter=u.center.slice(),n=h.targetCenter),void 0!==u.zoom?(h.sourceResolution=s,h.targetResolution=this.getResolutionForZoom(u.zoom),s=h.targetResolution):u.resolution&&(h.sourceResolution=s,h.targetResolution=u.resolution,s=h.targetResolution),void 0!==u.rotation){h.sourceRotation=a;var l=$rXL1$import$modulo(u.rotation-a+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=a+l,a=h.targetRotation}$rXL1$export$isNoopAnimation(h)?h.complete=!0:i+=h.duration,p.push(h)}this.animations_.push(p),this.setHint($rXL1$import$ViewHint.ANIMATING,1),this.updateAnimations_()},o.prototype.getAnimating=function(){return this.hints_[$rXL1$import$ViewHint.ANIMATING]>0},o.prototype.getInteracting=function(){return this.hints_[$rXL1$import$ViewHint.INTERACTING]>0},o.prototype.cancelAnimations=function(){var t;this.setHint($rXL1$import$ViewHint.ANIMATING,-this.hints_[$rXL1$import$ViewHint.ANIMATING]);for(var o=0,e=this.animations_.length;o<e;++o){var r=this.animations_[o];if(r[0].callback&&$rXL1$var$animationCallback(r[0].callback,!1),!t)for(var i=0,n=r.length;i<n;++i){var s=r[i];if(!s.complete){t=s.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},o.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),o=!1,e=this.animations_.length-1;e>=0;--e){for(var r=this.animations_[e],i=!0,n=0,s=r.length;n<s;++n){var a=r[n];if(!a.complete){var p=t-a.start,$=a.duration>0?p/a.duration:1;$>=1?(a.complete=!0,$=1):i=!1;var u=a.easing($);if(a.sourceCenter){var h=a.sourceCenter[0],l=a.sourceCenter[1],c=h+u*(a.targetCenter[0]-h),m=l+u*(a.targetCenter[1]-l);this.targetCenter_=[c,m]}if(a.sourceResolution&&a.targetResolution){var g=1===u?a.targetResolution:a.sourceResolution+u*(a.targetResolution-a.sourceResolution);if(a.anchor){var _=this.getViewportSize_(this.getRotation()),R=this.constraints_.resolution(g,0,_,!0);this.targetCenter_=this.calculateCenterZoom(R,a.anchor)}this.targetResolution_=g,this.applyTargetState_(!0)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var L=1===u?$rXL1$import$modulo(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+u*(a.targetRotation-a.sourceRotation);if(a.anchor){var v=this.constraints_.rotation(L,!0);this.targetCenter_=this.calculateCenterRotate(v,a.anchor)}this.targetRotation_=L}if(this.applyTargetState_(!0),o=!0,!a.complete)break}}if(i){this.animations_[e]=null,this.setHint($rXL1$import$ViewHint.ANIMATING,-1);var f=r[0].callback;f&&$rXL1$var$animationCallback(f,!0)}}this.animations_=this.animations_.filter(Boolean),o&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},o.prototype.calculateCenterRotate=function(t,o){var e,r=this.getCenterInternal();return void 0!==r&&(e=[r[0]-o[0],r[1]-o[1]],$rXL1$import$rotateCoordinate(e,t-this.getRotation()),$rXL1$import$addCoordinate(e,o)),e},o.prototype.calculateCenterZoom=function(t,o){var e,r=this.getCenterInternal(),i=this.getResolution();void 0!==r&&void 0!==i&&(e=[o[0]-t*(o[0]-r[0])/i,o[1]-t*(o[1]-r[1])/i]);return e},o.prototype.getViewportSize_=function(t){var o=this.viewportSize_;if(t){var e=o[0],r=o[1];return[Math.abs(e*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(e*Math.sin(t))+Math.abs(r*Math.cos(t))]}return o},o.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.resolveConstraints(0)},o.prototype.getCenter=function(){var t=this.getCenterInternal();return t?$rXL1$import$toUserCoordinate(t,this.getProjection()):t},o.prototype.getCenterInternal=function(){return this.get($rXL1$import$ViewProperty.CENTER)},o.prototype.getConstraints=function(){return this.constraints_},o.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},o.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},o.prototype.calculateExtent=function(t){var o=this.calculateExtentInternal(t);return $rXL1$import$toUserExtent(o,this.getProjection())},o.prototype.calculateExtentInternal=function(t){var o=t||this.getViewportSize_(),e=this.getCenterInternal();$rXL1$import$assert(e,1);var r=this.getResolution();$rXL1$import$assert(void 0!==r,2);var i=this.getRotation();return $rXL1$import$assert(void 0!==i,3),$rXL1$import$getForViewAndSize(e,r,i,o)},o.prototype.getMaxResolution=function(){return this.maxResolution_},o.prototype.getMinResolution=function(){return this.minResolution_},o.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},o.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},o.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},o.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},o.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},o.prototype.getProjection=function(){return this.projection_},o.prototype.getResolution=function(){return this.get($rXL1$import$ViewProperty.RESOLUTION)},o.prototype.getResolutions=function(){return this.resolutions_},o.prototype.getResolutionForExtent=function(t,o){return this.getResolutionForExtentInternal($rXL1$import$fromUserExtent(t,this.getProjection()),o)},o.prototype.getResolutionForExtentInternal=function(t,o){var e=o||this.getViewportSize_(),r=$rXL1$import$getWidth(t)/e[0],i=$rXL1$import$getHeight(t)/e[1];return Math.max(r,i)},o.prototype.getResolutionForValueFunction=function(t){var o=t||2,e=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(e/r)/Math.log(o);return function(t){return e/Math.pow(o,t*i)}},o.prototype.getRotation=function(){return this.get($rXL1$import$ViewProperty.ROTATION)},o.prototype.getValueForResolutionFunction=function(t){var o=Math.log(t||2),e=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(e/r)/o;return function(t){return Math.log(e/t)/o/i}},o.prototype.getState=function(){var t=this.getCenterInternal(),o=this.getProjection(),e=this.getResolution(),r=this.getRotation();return{center:t.slice(0),projection:void 0!==o?o:null,resolution:e,rotation:r,zoom:this.getZoom()}},o.prototype.getZoom=function(){var t,o=this.getResolution();return void 0!==o&&(t=this.getZoomForResolution(o)),t},o.prototype.getZoomForResolution=function(t){var o,e,r=this.minZoom_||0;if(this.resolutions_){var i=$rXL1$import$linearFindNearest(this.resolutions_,t,1);r=i,o=this.resolutions_[i],e=i==this.resolutions_.length-1?2:o/this.resolutions_[i+1]}else o=this.maxResolution_,e=this.zoomFactor_;return r+Math.log(o/t)/Math.log(e)},o.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var o=$rXL1$import$clamp(Math.floor(t),0,this.resolutions_.length-2),e=this.resolutions_[o]/this.resolutions_[o+1];return this.resolutions_[o]/Math.pow(e,$rXL1$import$clamp(t-o,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},o.prototype.fit=function(t,o){var e,r=$rXL1$import$assign({size:this.getViewportSize_()},o||{});if($rXL1$import$assert(Array.isArray(t)||\"function\"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){$rXL1$import$assert(!$rXL1$import$isEmpty(t),25);var i=$rXL1$import$fromUserExtent(t,this.getProjection());e=$rXL1$import$polygonFromExtent(i)}else if(t.getType()===$rXL1$import$GeometryType.CIRCLE){i=$rXL1$import$fromUserExtent(t.getExtent(),this.getProjection());(e=$rXL1$import$polygonFromExtent(i)).rotate(this.getRotation(),$rXL1$import$getCenter(i))}else{var n=$rXL1$import$getUserProjection();e=n?t.clone().transform(n,this.getProjection()):t}this.fitInternal(e,r)},o.prototype.fitInternal=function(t,o){var e=o||{},r=e.size;r||(r=this.getViewportSize_());var i,n=void 0!==e.padding?e.padding:[0,0,0,0],s=void 0!==e.nearest&&e.nearest;i=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;for(var a=t.getFlatCoordinates(),p=this.getRotation(),$=Math.cos(-p),u=Math.sin(-p),h=1/0,l=1/0,c=-1/0,m=-1/0,g=t.getStride(),_=0,R=a.length;_<R;_+=g){var L=a[_]*$-a[_+1]*u,v=a[_]*u+a[_+1]*$;h=Math.min(h,L),l=Math.min(l,v),c=Math.max(c,L),m=Math.max(m,v)}var f=this.getResolutionForExtentInternal([h,l,c,m],[r[0]-n[1]-n[3],r[1]-n[0]-n[2]]);f=isNaN(f)?i:Math.max(f,i),f=this.getConstrainedResolution(f,s?0:1),u=-u;var d=(h+c)/2,X=(l+m)/2,y=[(d+=(n[1]-n[3])/2*f)*$-(X+=(n[0]-n[2])/2*f)*u,X*$+d*u],C=e.callback?e.callback:$rXL1$import$VOID;void 0!==e.duration?this.animateInternal({resolution:f,center:this.getConstrainedCenter(y,f),duration:e.duration,easing:e.easing},C):(this.targetResolution_=f,this.targetCenter_=y,this.applyTargetState_(!1,!0),$rXL1$var$animationCallback(C,!0))},o.prototype.centerOn=function(t,o,e){this.centerOnInternal($rXL1$import$fromUserCoordinate(t,this.getProjection()),o,e)},o.prototype.centerOnInternal=function(t,o,e){var r=this.getRotation(),i=Math.cos(-r),n=Math.sin(-r),s=t[0]*i-t[1]*n,a=t[1]*i+t[0]*n,p=this.getResolution(),$=(s+=(o[0]/2-e[0])*p)*i-(a+=(e[1]-o[1]/2)*p)*(n=-n),u=a*i+s*n;this.setCenterInternal([$,u])},o.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},o.prototype.adjustCenter=function(t){var o=$rXL1$import$toUserCoordinate(this.targetCenter_,this.getProjection());this.setCenter([o[0]+t[0],o[1]+t[1]])},o.prototype.adjustCenterInternal=function(t){var o=this.targetCenter_;this.setCenterInternal([o[0]+t[0],o[1]+t[1]])},o.prototype.adjustResolution=function(t,o){var e=o&&$rXL1$import$fromUserCoordinate(o,this.getProjection());this.adjustResolutionInternal(t,e)},o.prototype.adjustResolutionInternal=function(t,o){var e=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,r,e);o&&(this.targetCenter_=this.calculateCenterZoom(i,o)),this.targetResolution_*=t,this.applyTargetState_()},o.prototype.adjustZoom=function(t,o){this.adjustResolution(Math.pow(this.zoomFactor_,-t),o)},o.prototype.adjustRotation=function(t,o){o&&(o=$rXL1$import$fromUserCoordinate(o,this.getProjection())),this.adjustRotationInternal(t,o)},o.prototype.adjustRotationInternal=function(t,o){var e=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,e);o&&(this.targetCenter_=this.calculateCenterRotate(r,o)),this.targetRotation_+=t,this.applyTargetState_()},o.prototype.setCenter=function(t){this.setCenterInternal($rXL1$import$fromUserCoordinate(t,this.getProjection()))},o.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},o.prototype.setHint=function(t,o){return this.hints_[t]+=o,this.changed(),this.hints_[t]},o.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},o.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},o.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},o.prototype.applyTargetState_=function(t,o){var e=this.getAnimating()||this.getInteracting()||o,r=this.constraints_.rotation(this.targetRotation_,e),i=this.getViewportSize_(r),n=this.constraints_.resolution(this.targetResolution_,0,i,e),s=this.constraints_.center(this.targetCenter_,n,i,e);this.get($rXL1$import$ViewProperty.ROTATION)!==r&&this.set($rXL1$import$ViewProperty.ROTATION,r),this.get($rXL1$import$ViewProperty.RESOLUTION)!==n&&this.set($rXL1$import$ViewProperty.RESOLUTION,n),this.get($rXL1$import$ViewProperty.CENTER)&&$rXL1$import$equals(this.get($rXL1$import$ViewProperty.CENTER),s)||this.set($rXL1$import$ViewProperty.CENTER,s),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},o.prototype.resolveConstraints=function(t,o,e){var r=void 0!==t?t:200,i=o||0,n=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(n),a=this.constraints_.resolution(this.targetResolution_,i,s),p=this.constraints_.center(this.targetCenter_,a,s);if(0===r&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=n,this.targetCenter_=p,void this.applyTargetState_();var $=e||(0===r?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===a&&this.getRotation()===n&&this.getCenterInternal()&&$rXL1$import$equals(this.getCenterInternal(),p)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:n,center:p,resolution:a,duration:r,easing:$rXL1$import$easeOut,anchor:$}))},o.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint($rXL1$import$ViewHint.INTERACTING,1)},o.prototype.endInteraction=function(t,o,e){var r=e&&$rXL1$import$fromUserCoordinate(e,this.getProjection());this.endInteractionInternal(t,o,r)},o.prototype.endInteractionInternal=function(t,o,e){this.setHint($rXL1$import$ViewHint.INTERACTING,-1),this.resolveConstraints(t,o,e)},o.prototype.getConstrainedCenter=function(t,o){var e=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,o||this.getResolution(),e)},o.prototype.getConstrainedZoom=function(t,o){var e=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(e,o))},o.prototype.getConstrainedResolution=function(t,o){var e=o||0,r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,r)},o}($rXL1$import$BaseObject);function $rXL1$var$animationCallback(t,o){setTimeout(function(){t(o)},0)}function $rXL1$export$createCenterConstraint(t){if(void 0!==t.extent){var o=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return $rXL1$import$createExtent(t.extent,t.constrainOnlyCenter,o)}var e=$rXL1$import$createProjection(t.projection,\"EPSG:3857\");if(!0!==t.multiWorld&&e.isGlobal()){var r=e.getExtent().slice();return r[0]=-1/0,r[2]=1/0,$rXL1$import$createExtent(r,!1,!1)}return $rXL1$import$centerNone}function $rXL1$export$createResolutionConstraint(t){var o,e,r,i=void 0!==t.minZoom?t.minZoom:$rXL1$var$DEFAULT_MIN_ZOOM,n=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2,a=void 0!==t.multiWorld&&t.multiWorld,p=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,$=void 0!==t.showFullExtent&&t.showFullExtent,u=$rXL1$import$createProjection(t.projection,\"EPSG:3857\"),h=u.getExtent(),l=t.constrainOnlyCenter,c=t.extent;if(a||c||!u.isGlobal()||(l=!1,c=h),void 0!==t.resolutions){var m=t.resolutions;e=m[i],r=void 0!==m[n]?m[n]:m[m.length-1],o=t.constrainResolution?$rXL1$import$createSnapToResolutions(m,p,!l&&c,$):$rXL1$import$createMinMaxResolution(e,r,p,!l&&c,$)}else{var g=(h?Math.max($rXL1$import$getWidth(h),$rXL1$import$getHeight(h)):360*$rXL1$import$METERS_PER_UNIT[$rXL1$import$Units.DEGREES]/u.getMetersPerUnit())/$rXL1$import$DEFAULT_TILE_SIZE/Math.pow(2,$rXL1$var$DEFAULT_MIN_ZOOM),_=g/Math.pow(2,28-$rXL1$var$DEFAULT_MIN_ZOOM);void 0!==(e=t.maxResolution)?i=0:e=g/Math.pow(s,i),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?e/Math.pow(s,n):g/Math.pow(s,n):_),n=i+Math.floor(Math.log(e/r)/Math.log(s)),r=e/Math.pow(s,n-i),o=t.constrainResolution?$rXL1$import$createSnapToPower(s,e,r,p,!l&&c,$):$rXL1$import$createMinMaxResolution(e,r,p,!l&&c,$)}return{constraint:o,maxResolution:e,minResolution:r,minZoom:i,zoomFactor:s}}function $rXL1$export$createRotationConstraint(t){if(void 0===t.enableRotation||t.enableRotation){var o=t.constrainRotation;return void 0===o||!0===o?$rXL1$import$createSnapToZero():!1===o?$rXL1$import$rotationNone:\"number\"==typeof o?$rXL1$import$createSnapToN(o):$rXL1$import$rotationNone}return $rXL1$import$disable}function $rXL1$export$isNoopAnimation(t){return!(t.sourceCenter&&t.targetCenter&&!$rXL1$import$coordinatesEqual(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}$rXL1$exports.createCenterConstraint=$rXL1$export$createCenterConstraint,$rXL1$exports.createResolutionConstraint=$rXL1$export$createResolutionConstraint,$rXL1$exports.createRotationConstraint=$rXL1$export$createRotationConstraint,$rXL1$exports.isNoopAnimation=$rXL1$export$isNoopAnimation,$rXL1$exports.default=$rXL1$export$default;"},"sourceMaps":null,"error":null,"hash":"6bc3947dae2079ec5607fb80c21c6986","cacheData":{"env":{},"imports":{"$rXL1$import$DEFAULT_TILE_SIZE":["./tilegrid/common.js","DEFAULT_TILE_SIZE"],"$rXL1$import$VOID":["./functions.js","VOID"],"$rXL1$import$createExtent":["./centerconstraint.js","createExtent"],"$rXL1$import$centerNone":["./centerconstraint.js","none"],"$rXL1$import$BaseObject":["./Object.js","default"],"$rXL1$import$createSnapToResolutions":["./resolutionconstraint.js","createSnapToResolutions"],"$rXL1$import$createSnapToPower":["./resolutionconstraint.js","createSnapToPower"],"$rXL1$import$createSnapToZero":["./rotationconstraint.js","createSnapToZero"],"$rXL1$import$createSnapToN":["./rotationconstraint.js","createSnapToN"],"$rXL1$import$rotationNone":["./rotationconstraint.js","none"],"$rXL1$import$disable":["./rotationconstraint.js","disable"],"$rXL1$import$ViewHint":["./ViewHint.js","default"],"$rXL1$import$ViewProperty":["./ViewProperty.js","default"],"$rXL1$import$linearFindNearest":["./array.js","linearFindNearest"],"$rXL1$import$assert":["./asserts.js","assert"],"$rXL1$import$addCoordinate":["./coordinate.js","add"],"$rXL1$import$rotateCoordinate":["./coordinate.js","rotate"],"$rXL1$import$coordinatesEqual":["./coordinate.js","equals"],"$rXL1$import$inAndOut":["./easing.js","inAndOut"],"$rXL1$import$getForViewAndSize":["./extent.js","getForViewAndSize"],"$rXL1$import$getCenter":["./extent.js","getCenter"],"$rXL1$import$getHeight":["./extent.js","getHeight"],"$rXL1$import$getWidth":["./extent.js","getWidth"],"$rXL1$import$isEmpty":["./extent.js","isEmpty"],"$rXL1$import$GeometryType":["./geom/GeometryType.js","default"],"$rXL1$import$polygonFromExtent":["./geom/Polygon.js","fromExtent"],"$rXL1$import$clamp":["./math.js","clamp"],"$rXL1$import$modulo":["./math.js","modulo"],"$rXL1$import$assign":["./obj.js","assign"],"$rXL1$import$createProjection":["./proj.js","createProjection"],"$rXL1$import$METERS_PER_UNIT":["./proj.js","METERS_PER_UNIT"],"$rXL1$import$toUserCoordinate":["./proj.js","toUserCoordinate"],"$rXL1$import$toUserExtent":["./proj.js","toUserExtent"],"$rXL1$import$fromUserCoordinate":["./proj.js","fromUserCoordinate"],"$rXL1$import$fromUserExtent":["./proj.js","fromUserExtent"],"$rXL1$import$getUserProjection":["./proj.js","getUserProjection"],"$rXL1$import$Units":["./proj/Units.js","default"],"$rXL1$import$equals":["./coordinate.js","equals"],"$rXL1$import$easeOut":["./easing.js","easeOut"],"$rXL1$import$createMinMaxResolution":["./resolutionconstraint.js","createMinMaxResolution"]},"exports":{"createCenterConstraint":"$rXL1$export$createCenterConstraint","createResolutionConstraint":"$rXL1$export$createResolutionConstraint","createRotationConstraint":"$rXL1$export$createRotationConstraint","isNoopAnimation":"$rXL1$export$isNoopAnimation","default":"$rXL1$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}