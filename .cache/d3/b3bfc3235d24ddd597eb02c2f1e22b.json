{"id":"cTMc","dependencies":[{"name":"D:\\Projects\\ol\\package.json","includedInParent":true,"mtime":1586548571472},{"name":"D:\\Projects\\ol\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1586157047249},{"name":"../functions.js","loc":{"line":18,"column":21},"parent":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\DragAndDrop.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\functions.js"},{"name":"../events.js","loc":{"line":19,"column":38},"parent":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\DragAndDrop.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events.js"},{"name":"../events/Event.js","loc":{"line":20,"column":18},"parent":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\DragAndDrop.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events\\Event.js"},{"name":"../events/EventType.js","loc":{"line":21,"column":22},"parent":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\DragAndDrop.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\events\\EventType.js"},{"name":"./Interaction.js","loc":{"line":22,"column":24},"parent":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\DragAndDrop.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\Interaction.js"},{"name":"../proj.js","loc":{"line":23,"column":37},"parent":"D:\\Projects\\ol\\node_modules\\ol\\interaction\\DragAndDrop.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\proj.js"}],"generated":{"js":"var $cTMc$exports={};$parcel$require(\"cTMc\",\"../functions.js\"),$parcel$require(\"cTMc\",\"../events.js\"),$parcel$require(\"cTMc\",\"../events/Event.js\"),$parcel$require(\"cTMc\",\"../events/EventType.js\"),$parcel$require(\"cTMc\",\"./Interaction.js\"),$parcel$require(\"cTMc\",\"../proj.js\");var $cTMc$var$__extends=$cTMc$exports&&$cTMc$exports.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function c(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(c.prototype=r.prototype,new c)}}(),$cTMc$var$DragAndDropEventType={ADD_FEATURES:\"addfeatures\"},$cTMc$var$DragAndDropEvent=function(t){function e(e,r,c,n){var o=t.call(this,e)||this;return o.features=c,o.file=r,o.projection=n,o}return $cTMc$var$__extends(e,t),e}($cTMc$import$Event),$cTMc$export$default=function(t){function e(e){var r=this,c=e||{};return(r=t.call(this,{handleEvent:$cTMc$import$TRUE})||this).formatConstructors_=c.formatConstructors?c.formatConstructors:[],r.projection_=c.projection?$cTMc$import$getProjection(c.projection):null,r.dropListenKeys_=null,r.source_=c.source||null,r.target=c.target?c.target:null,r}return $cTMc$var$__extends(e,t),e.prototype.handleResult_=function(t,e){var r=e.target.result,c=this.getMap(),n=this.projection_;n||(n=c.getView().getProjection());for(var o=this.formatConstructors_,i=[],s=0,$=o.length;s<$;++s){var a=new o[s];if((i=this.tryReadFeatures_(a,r,{featureProjection:n}))&&i.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(i)),this.dispatchEvent(new $cTMc$var$DragAndDropEvent($cTMc$var$DragAndDropEventType.ADD_FEATURES,t,i,n))},e.prototype.registerListeners_=function(){var t=this.getMap();if(t){var e=this.target?this.target:t.getViewport();this.dropListenKeys_=[$cTMc$import$listen(e,$cTMc$import$EventType.DROP,$cTMc$var$handleDrop,this),$cTMc$import$listen(e,$cTMc$import$EventType.DRAGENTER,$cTMc$var$handleStop,this),$cTMc$import$listen(e,$cTMc$import$EventType.DRAGOVER,$cTMc$var$handleStop,this),$cTMc$import$listen(e,$cTMc$import$EventType.DROP,$cTMc$var$handleStop,this)]}},e.prototype.setActive=function(e){!this.getActive()&&e&&this.registerListeners_(),this.getActive()&&!e&&this.unregisterListeners_(),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.unregisterListeners_(),t.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},e.prototype.tryReadFeatures_=function(t,e,r){try{return t.readFeatures(e,r)}catch(c){return null}},e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach($cTMc$import$unlistenByKey),this.dropListenKeys_=null)},e}($cTMc$import$Interaction);function $cTMc$var$handleDrop(t){for(var e=t.dataTransfer.files,r=0,c=e.length;r<c;++r){var n=e.item(r),o=new FileReader;o.addEventListener($cTMc$import$EventType.LOAD,this.handleResult_.bind(this,n)),o.readAsText(n)}}function $cTMc$var$handleStop(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect=\"copy\"}$cTMc$exports.default=$cTMc$export$default;"},"sourceMaps":null,"error":null,"hash":"76b087941beaa9a7d7d4d81ef124c91e","cacheData":{"env":{},"imports":{"$cTMc$import$TRUE":["../functions.js","TRUE"],"$cTMc$import$listen":["../events.js","listen"],"$cTMc$import$unlistenByKey":["../events.js","unlistenByKey"],"$cTMc$import$Event":["../events/Event.js","default"],"$cTMc$import$EventType":["../events/EventType.js","default"],"$cTMc$import$Interaction":["./Interaction.js","default"],"$cTMc$import$getProjection":["../proj.js","get"]},"exports":{"default":"$cTMc$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}