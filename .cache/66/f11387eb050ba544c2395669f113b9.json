{"id":"QaCa","dependencies":[{"name":"D:\\Projects\\ol\\package.json","includedInParent":true,"mtime":1586548571472},{"name":"D:\\Projects\\ol\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1586157047249},{"name":"../../util.js","loc":{"line":17,"column":23},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\util.js"},{"name":"../../ViewHint.js","loc":{"line":18,"column":21},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\ViewHint.js"},{"name":"../../extent.js","loc":{"line":19,"column":116},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\extent.js"},{"name":"../../coordinate.js","loc":{"line":20,"column":41},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\coordinate.js"},{"name":"../../proj.js","loc":{"line":21,"column":93},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\proj.js"},{"name":"../../render/canvas/BuilderGroup.js","loc":{"line":22,"column":31},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\render\\canvas\\BuilderGroup.js"},{"name":"../../render/canvas/ExecutorGroup.js","loc":{"line":23,"column":47},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\render\\canvas\\ExecutorGroup.js"},{"name":"./Layer.js","loc":{"line":24,"column":32},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\Layer.js"},{"name":"../vector.js","loc":{"line":25,"column":152},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\vector.js"},{"name":"../../transform.js","loc":{"line":26,"column":77},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\transform.js"},{"name":"../../render/canvas/hitdetect.js","loc":{"line":27,"column":55},"parent":"D:\\Projects\\ol\\node_modules\\ol\\renderer\\canvas\\VectorLayer.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\render\\canvas\\hitdetect.js"}],"generated":{"js":"var $QaCa$exports={};$parcel$require(\"QaCa\",\"../../util.js\"),$parcel$require(\"QaCa\",\"../../ViewHint.js\"),$parcel$require(\"QaCa\",\"../../extent.js\"),$parcel$require(\"QaCa\",\"../../coordinate.js\"),$parcel$require(\"QaCa\",\"../../proj.js\"),$parcel$require(\"QaCa\",\"../../render/canvas/BuilderGroup.js\"),$parcel$require(\"QaCa\",\"../../render/canvas/ExecutorGroup.js\"),$parcel$require(\"QaCa\",\"./Layer.js\"),$parcel$require(\"QaCa\",\"../vector.js\"),$parcel$require(\"QaCa\",\"../../transform.js\"),$parcel$require(\"QaCa\",\"../../render/canvas/hitdetect.js\");var $QaCa$var$__extends=$QaCa$exports&&$QaCa$exports.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),$QaCa$export$default=function(e){function t(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=$QaCa$import$createEmpty(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r}return $QaCa$var$__extends(t,e),t.prototype.useContainer=function(t,r,a){a<1&&(t=null),e.prototype.useContainer.call(this,t,r,a)},t.prototype.renderFrame=function(e,t){var r=e.pixelRatio,a=e.layerStatesArray[e.layerIndex];$QaCa$import$makeScale(this.pixelTransform,1/r,1/r),$QaCa$import$makeInverse(this.inversePixelTransform,this.pixelTransform);var i=$QaCa$import$transformToString(this.pixelTransform);this.useContainer(t,i,a.opacity);var n=this.context,o=n.canvas,s=this.replayGroup_;if(!s||s.isEmpty())return!this.containerReused&&o.width>0&&(o.width=0),this.container;var $=Math.round(e.size[0]*r),d=Math.round(e.size[1]*r);o.width!=$||o.height!=d?(o.width=$,o.height=d,o.style.transform!==i&&(o.style.transform=i)):this.containerReused||n.clearRect(0,0,$,d),this.preRender(n,e);var p=e.extent,u=e.viewState,h=u.center,c=u.resolution,l=u.projection,g=u.rotation,m=l.getExtent(),C=this.getLayer().getSource(),f=!1;if(a.extent){var v=$QaCa$import$fromUserExtent(a.extent,l);(f=!$QaCa$import$containsExtent(v,e.extent)&&$QaCa$import$intersectsExtent(v,e.extent))&&this.clip(n,e,v)}var _=e.viewHints,y=!(_[$QaCa$import$ViewHint.ANIMATING]||_[$QaCa$import$ViewHint.INTERACTING]),Q=this.getRenderTransform(h,c,g,r,$,d,0),x=this.getLayer().getDeclutter()?{}:null;if(s.execute(n,Q,g,y,void 0,x),C.getWrapX()&&l.canWrapX()&&!$QaCa$import$containsExtent(m,p)){for(var R=p[0],I=$QaCa$import$getWidth(m),w=0,E=void 0;R<m[0];){E=I*--w;var T=this.getRenderTransform(h,c,g,r,$,d,E);s.execute(n,T,g,y,void 0,x),R+=I}for(w=0,R=p[2];R>m[2];){E=I*++w;var F=this.getRenderTransform(h,c,g,r,$,d,E);s.execute(n,F,g,y,void 0,x),R-=I}}if(x){var j=e.viewHints,G=!(j[$QaCa$import$ViewHint.ANIMATING]||j[$QaCa$import$ViewHint.INTERACTING]);$QaCa$import$replayDeclutter(x,n,g,1,G,e.declutterItems)}f&&n.restore(),this.postRender(n,e);var S=a.opacity,A=this.container;return S!==parseFloat(A.style.opacity)&&(A.style.opacity=1===S?\"\":S),this.container},t.prototype.getFeatures=function(e){return new Promise(function(t,r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var a=[this.context.canvas.width,this.context.canvas.height];$QaCa$import$apply(this.pixelTransform,a);var i=this.renderedCenter_,n=this.renderedResolution_,o=this.renderedRotation_,s=this.renderedProjection_,$=this.renderedExtent_,d=this.getLayer(),p=[],u=a[0]/2,h=a[1]/2;p.push(this.getRenderTransform(i,n,o,.5,u,h,0).slice());var c=d.getSource(),l=s.getExtent();if(c.getWrapX()&&s.canWrapX()&&!$QaCa$import$containsExtent(l,$)){for(var g=$[0],m=$QaCa$import$getWidth(l),C=0,f=void 0;g<l[0];)f=m*--C,p.push(this.getRenderTransform(i,n,o,.5,u,h,f).slice()),g+=m;for(C=0,g=$[2];g>l[2];)f=m*++C,p.push(this.getRenderTransform(i,n,o,.5,u,h,f).slice()),g-=m}this.hitDetectionImageData_=$QaCa$import$createHitDetectionImageData(a,p,this.renderedFeatures_,d.getStyleFunction(),$,n,o)}t($QaCa$import$hitDetect(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,a,i){if(this.replayGroup_){var n=t.viewState.resolution,o=t.viewState.rotation,s=this.getLayer(),$={};return this.replayGroup_.forEachFeatureAtCoordinate(e,n,o,r,function(e){var t=$QaCa$import$getUid(e);if(!(t in $))return $[t]=!0,a(e,s)},s.getDeclutter()?i:null)}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var t=this.getLayer(),r=t.getSource();if(!r)return!1;var a=e.viewHints[$QaCa$import$ViewHint.ANIMATING],i=e.viewHints[$QaCa$import$ViewHint.INTERACTING],n=t.getUpdateWhileAnimating(),o=t.getUpdateWhileInteracting();if(!this.dirty_&&!n&&a||!o&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=e.extent,$=e.viewState,d=$.projection,p=$.resolution,u=e.pixelRatio,h=t.getRevision(),c=t.getRenderBuffer(),l=t.getRenderOrder();void 0===l&&(l=$QaCa$import$defaultRenderOrder);var g=$.center.slice(),m=$QaCa$import$buffer(s,c*p),C=[m.slice()],f=d.getExtent();if(r.getWrapX()&&d.canWrapX()&&!$QaCa$import$containsExtent(f,e.extent)){var v=$QaCa$import$getWidth(f),_=Math.max($QaCa$import$getWidth(m)/2,v);m[0]=f[0]-_,m[2]=f[2]+_,$QaCa$import$wrapCoordinateX(g,d);var y=$QaCa$import$wrapExtentX(C[0],d);y[0]<f[0]&&y[2]<f[2]?C.push([y[0]+v,y[1],y[2]+v,y[3]]):y[0]>f[0]&&y[2]>f[2]&&C.push([y[0]-v,y[1],y[2]-v,y[3]])}if(!this.dirty_&&this.renderedResolution_==p&&this.renderedRevision_==h&&this.renderedRenderOrder_==l&&$QaCa$import$containsExtent(this.renderedExtent_,m))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var Q,x=new $QaCa$import$CanvasBuilderGroup($QaCa$import$getRenderTolerance(p,u),m,p,u,t.getDeclutter()),R=$QaCa$import$getUserProjection();if(R){for(var I=0,w=C.length;I<w;++I)r.loadFeatures($QaCa$import$toUserExtent(C[I],d),p,R);Q=$QaCa$import$getTransformFromProjections(R,d)}else for(I=0,w=C.length;I<w;++I)r.loadFeatures(C[I],p,d);var E=$QaCa$import$getSquaredRenderTolerance(p,u),T=function(e){var r,a=e.getStyleFunction()||t.getStyleFunction();if(a&&(r=a(e,p)),r){var i=this.renderFeature(e,E,r,x,Q);this.dirty_=this.dirty_||i}}.bind(this),F=$QaCa$import$toUserExtent(m,d),j=r.getFeaturesInExtent(F);l&&j.sort(l);for(I=0,w=j.length;I<w;++I)T(j[I]);this.renderedFeatures_=j;var G=x.finish(),S=new $QaCa$import$ExecutorGroup(m,p,u,r.getOverlaps(),G,t.getRenderBuffer());return this.renderedResolution_=p,this.renderedRevision_=h,this.renderedRenderOrder_=l,this.renderedExtent_=m,this.renderedRotation_=$.rotation,this.renderedCenter_=g,this.renderedProjection_=d,this.replayGroup_=S,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,t,r,a,i){if(!r)return!1;var n=!1;if(Array.isArray(r))for(var o=0,s=r.length;o<s;++o)n=$QaCa$import$renderFeature(a,e,r[o],t,this.boundHandleStyleImageChange_,i)||n;else n=$QaCa$import$renderFeature(a,e,r,t,this.boundHandleStyleImageChange_,i);return n},t}($QaCa$import$CanvasLayerRenderer);$QaCa$exports.default=$QaCa$export$default;"},"sourceMaps":null,"error":null,"hash":"1549d095995ddb9f42cab26f3afa71fb","cacheData":{"env":{},"imports":{"$QaCa$import$getUid":["../../util.js","getUid"],"$QaCa$import$ViewHint":["../../ViewHint.js","default"],"$QaCa$import$buffer":["../../extent.js","buffer"],"$QaCa$import$createEmpty":["../../extent.js","createEmpty"],"$QaCa$import$containsExtent":["../../extent.js","containsExtent"],"$QaCa$import$getWidth":["../../extent.js","getWidth"],"$QaCa$import$intersectsExtent":["../../extent.js","intersects"],"$QaCa$import$wrapExtentX":["../../extent.js","wrapX"],"$QaCa$import$wrapCoordinateX":["../../coordinate.js","wrapX"],"$QaCa$import$fromUserExtent":["../../proj.js","fromUserExtent"],"$QaCa$import$toUserExtent":["../../proj.js","toUserExtent"],"$QaCa$import$getUserProjection":["../../proj.js","getUserProjection"],"$QaCa$import$getTransformFromProjections":["../../proj.js","getTransformFromProjections"],"$QaCa$import$CanvasBuilderGroup":["../../render/canvas/BuilderGroup.js","default"],"$QaCa$import$ExecutorGroup":["../../render/canvas/ExecutorGroup.js","default"],"$QaCa$import$replayDeclutter":["../../render/canvas/ExecutorGroup.js","replayDeclutter"],"$QaCa$import$CanvasLayerRenderer":["./Layer.js","default"],"$QaCa$import$defaultRenderOrder":["../vector.js","defaultOrder"],"$QaCa$import$getRenderTolerance":["../vector.js","getTolerance"],"$QaCa$import$getSquaredRenderTolerance":["../vector.js","getSquaredTolerance"],"$QaCa$import$renderFeature":["../vector.js","renderFeature"],"$QaCa$import$transformToString":["../../transform.js","toString"],"$QaCa$import$makeScale":["../../transform.js","makeScale"],"$QaCa$import$makeInverse":["../../transform.js","makeInverse"],"$QaCa$import$apply":["../../transform.js","apply"],"$QaCa$import$createHitDetectionImageData":["../../render/canvas/hitdetect.js","createHitDetectionImageData"],"$QaCa$import$hitDetect":["../../render/canvas/hitdetect.js","hitDetect"]},"exports":{"default":"$QaCa$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}