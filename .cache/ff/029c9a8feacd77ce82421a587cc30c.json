{"id":"NPHs","dependencies":[{"name":"D:\\Projects\\ol\\package.json","includedInParent":true,"mtime":1586548571472},{"name":"D:\\Projects\\ol\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1586157047249},{"name":"../Object.js","loc":{"line":17,"column":35},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\ScaleLine.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\Object.js"},{"name":"../asserts.js","loc":{"line":18,"column":23},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\ScaleLine.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\asserts.js"},{"name":"./Control.js","loc":{"line":19,"column":20},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\ScaleLine.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\control\\Control.js"},{"name":"../css.js","loc":{"line":20,"column":35},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\ScaleLine.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\css.js"},{"name":"../proj.js","loc":{"line":21,"column":52},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\ScaleLine.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\proj.js"},{"name":"../proj/Units.js","loc":{"line":22,"column":22},"parent":"D:\\Projects\\ol\\node_modules\\ol\\control\\ScaleLine.js","resolved":"D:\\Projects\\ol\\node_modules\\ol\\proj\\Units.js"}],"generated":{"js":"var $NPHs$exports={};$parcel$require(\"NPHs\",\"../Object.js\"),$parcel$require(\"NPHs\",\"../asserts.js\"),$parcel$require(\"NPHs\",\"./Control.js\"),$parcel$require(\"NPHs\",\"../css.js\"),$parcel$require(\"NPHs\",\"../proj.js\"),$parcel$require(\"NPHs\",\"../proj/Units.js\");var $NPHs$var$__extends=$NPHs$exports&&$NPHs$exports.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function s(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),$NPHs$var$UNITS_PROP=\"units\",$NPHs$export$Units={DEGREES:\"degrees\",IMPERIAL:\"imperial\",NAUTICAL:\"nautical\",METRIC:\"metric\",US:\"us\"};$NPHs$exports.Units=$NPHs$export$Units;var $NPHs$var$LEADING_DIGITS=[1,2,5],$NPHs$export$default=function(e){function t(t){var r=this,s=t||{},i=void 0!==s.className?s.className:s.bar?\"ol-scale-bar\":\"ol-scale-line\";return(r=e.call(this,{element:document.createElement(\"div\"),render:s.render||$NPHs$export$render,target:s.target})||this).innerElement_=document.createElement(\"div\"),r.innerElement_.className=i+\"-inner\",r.element.className=i+\" \"+$NPHs$import$CLASS_UNSELECTABLE,r.element.appendChild(r.innerElement_),r.viewState_=null,r.minWidth_=void 0!==s.minWidth?s.minWidth:64,r.renderedVisible_=!1,r.renderedWidth_=void 0,r.renderedHTML_=\"\",r.addEventListener($NPHs$import$getChangeEventType($NPHs$var$UNITS_PROP),r.handleUnitsChanged_),r.setUnits(s.units||$NPHs$export$Units.METRIC),r.scaleBar_=s.bar||!1,r.scaleBarSteps_=s.steps||4,r.scaleBarText_=s.text||!1,r}return $NPHs$var$__extends(t,e),t.prototype.getUnits=function(){return this.get($NPHs$var$UNITS_PROP)},t.prototype.handleUnitsChanged_=function(){this.updateElement_()},t.prototype.setUnits=function(e){this.set($NPHs$var$UNITS_PROP,e)},t.prototype.updateElement_=function(){var e=this.viewState_;if(e){var t=e.center,r=e.projection,s=this.getUnits(),i=s==$NPHs$export$Units.DEGREES?$NPHs$import$ProjUnits.DEGREES:$NPHs$import$ProjUnits.METERS,n=$NPHs$import$getPointResolution(r,e.resolution,t,i),a=this.minWidth_*n,o=\"\";if(s==$NPHs$export$Units.DEGREES){var l=$NPHs$import$METERS_PER_UNIT[$NPHs$import$ProjUnits.DEGREES];(a*=l)<l/60?(o=\"″\",n*=3600):a<l?(o=\"′\",n*=60):o=\"°\"}else s==$NPHs$export$Units.IMPERIAL?a<.9144?(o=\"in\",n/=.0254):a<1609.344?(o=\"ft\",n/=.3048):(o=\"mi\",n/=1609.344):s==$NPHs$export$Units.NAUTICAL?(n/=1852,o=\"nm\"):s==$NPHs$export$Units.METRIC?a<.001?(o=\"μm\",n*=1e6):a<1?(o=\"mm\",n*=1e3):a<1e3?o=\"m\":(o=\"km\",n/=1e3):s==$NPHs$export$Units.US?a<.9144?(o=\"in\",n*=39.37):a<1609.344?(o=\"ft\",n/=.30480061):(o=\"mi\",n/=1609.3472):$NPHs$import$assert(!1,33);for(var $,p,d,c,h=3*Math.floor(Math.log(this.minWidth_*n)/Math.log(10));;){d=Math.floor(h/3);var _=Math.pow(10,d);if($=$NPHs$var$LEADING_DIGITS[(h%3+3)%3]*_,p=Math.round($/n),isNaN(p))return this.element.style.display=\"none\",void(this.renderedVisible_=!1);if(p>=this.minWidth_)break;++h}c=this.scaleBar_?this.createScaleBar(p,$,o):$.toFixed(d<0?-d:0)+\" \"+o,this.renderedHTML_!=c&&(this.innerElement_.innerHTML=c,this.renderedHTML_=c),this.renderedWidth_!=p&&(this.innerElement_.style.width=p+\"px\",this.renderedWidth_=p),this.renderedVisible_||(this.element.style.display=\"\",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display=\"none\",this.renderedVisible_=!1)},t.prototype.createScaleBar=function(e,t,r){for(var s=\"1 : \"+Math.round(this.getScaleForResolution()).toLocaleString(),i=[],n=e/this.scaleBarSteps_,a=\"#ffffff\",o=0;o<this.scaleBarSteps_;o++)0===o&&i.push(this.createMarker(\"absolute\",o)),i.push('<div><div class=\"ol-scale-singlebar\" style=\"width: '+n+\"px;background-color: \"+a+';\"></div>'+this.createMarker(\"relative\",o)+(o%2==0||2===this.scaleBarSteps_?this.createStepText(o,e,!1,t,r):\"\")+\"</div>\"),o===this.scaleBarSteps_-1&&i.push(this.createStepText(o+1,e,!0,t,r)),a=\"#ffffff\"===a?\"#000000\":\"#ffffff\";return'<div style=\"display: flex;\">'+(this.scaleBarText_?'<div class=\"ol-scale-text\" style=\"width: '+e+'px;\">'+s+\"</div>\":\"\")+i.join(\"\")+\"</div>\"},t.prototype.createMarker=function(e,t){return'<div class=\"ol-scale-step-marker\" style=\"position: '+e+\";top: \"+(\"absolute\"===e?3:-10)+'px;\"></div>'},t.prototype.createStepText=function(e,t,r,s,i){var n=(0===e?0:Math.round(s/this.scaleBarSteps_*e*100)/100)+(0===e?\"\":\" \"+i);return'<div class=\"ol-scale-step-text\" style=\"margin-left: '+(0===e?-3:t/this.scaleBarSteps_*-1)+\"px;text-align: \"+(0===e?\"left\":\"center\")+\"; min-width: \"+(0===e?0:t/this.scaleBarSteps_*2)+\"px;left: \"+(r?t+\"px\":\"unset\")+';\">'+n+\"</div>\"},t.prototype.getScaleForResolution=function(){var e=this.getMap().getView().getResolution(),t=this.viewState_.projection.getMetersPerUnit();return parseFloat(e.toString())*t*39.37*(25.4/.28)},t}($NPHs$import$Control);function $NPHs$export$render(e){var t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}$NPHs$exports.render=$NPHs$export$render,$NPHs$exports.default=$NPHs$export$default;"},"sourceMaps":null,"error":null,"hash":"5f96389bbe9c8b21c73497f9d4ef48e1","cacheData":{"env":{},"imports":{"$NPHs$import$getChangeEventType":["../Object.js","getChangeEventType"],"$NPHs$import$assert":["../asserts.js","assert"],"$NPHs$import$Control":["./Control.js","default"],"$NPHs$import$CLASS_UNSELECTABLE":["../css.js","CLASS_UNSELECTABLE"],"$NPHs$import$getPointResolution":["../proj.js","getPointResolution"],"$NPHs$import$METERS_PER_UNIT":["../proj.js","METERS_PER_UNIT"],"$NPHs$import$ProjUnits":["../proj/Units.js","default"]},"exports":{"Units":"$NPHs$export$Units","render":"$NPHs$export$render","default":"$NPHs$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}